(function()
    -- å¼ºåˆ¶ 200Ã—200 å±…ä¸­çª—å£
    getgenv().WindowSize = UDim2.new(0, 200, 0, 200)
    
    -- é»‘è‰² OrionLib UI
    local OrionLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/wsomoQaz/lua-/main/Xcccc"))()
    
    -- å¡å¯†ç³»ç»Ÿé…ç½®
    local KeySystem = {
        CurrentKey = nil,
        IsVerified = false,
        KeyFile = "StitchKey.txt",
        DiscordWebhook = "https://discord.com/api/webhooks/ä½ çš„webhookåœ°å€", -- å¯é€‰ï¼šç”¨äºè®°å½•å¡å¯†ä½¿ç”¨
        ValidKeys = {
            "2025",
            "666",
            "KUNKUN666",
            "666free",
            "TAIYOUYISILE"
        }
    }
    
    -- çº¯é»‘ä¸»é¢˜
    OrionLib.Themes.Default = {
        Main    = Color3.fromRGB(20,20,20),
        Second  = Color3.fromRGB(30,30,30),
        Stroke  = Color3.fromRGB(50,50,50),
        Divider = Color3.fromRGB(40,40,40),
        Text    = Color3.fromRGB(255,255,255),
        TextDark= Color3.fromRGB(200,200,200)
    }
    OrionLib.SelectedTheme = "Default"
    
    -- ä¿å­˜å¡å¯†åˆ°æ–‡ä»¶
    local function SaveKey(key)
        if writefile then
            writefile(KeySystem.KeyFile, key)
        end
    end
    
    -- ä»æ–‡ä»¶è¯»å–å¡å¯†
    local function LoadKey()
        if isfile and isfile(KeySystem.KeyFile) then
            return readfile(KeySystem.KeyFile)
        end
        return nil
    end
    
    -- éªŒè¯å¡å¯†
    local function VerifyKey(key)
        if not key or key == "" then return false end
        
        -- æ£€æŸ¥æ˜¯å¦åœ¨æœ‰æ•ˆå¡å¯†åˆ—è¡¨ä¸­
        for _, validKey in ipairs(KeySystem.ValidKeys) do
            if key == validKey then
                return true
            end
        end
        
        -- å¯é€‰ï¼šå‘é€åˆ°Discordè®°å½•
        if syn and KeySystem.DiscordWebhook ~= "https://discord.com/api/webhooks/ä½ çš„webhookåœ°å€" then
            syn.request({
                Url = KeySystem.DiscordWebhook,
                Method = "POST",
                Headers = {
                    ["Content-Type"] = "application/json"
                },
                Body = game:GetService("HttpService"):JSONEncode({
                    content = "å°è¯•ä½¿ç”¨æ— æ•ˆå¡å¯†: " .. key,
                    username = "Key System Logger"
                })
            })
        end
        
        return false
    end
    
    -- å¤åˆ¶åˆ°å‰ªè´´æ¿å‡½æ•°ï¼ˆå…¼å®¹å¤šç§æ‰§è¡Œå™¨ï¼‰
    local function CopyToClipboard(text)
        if setclipboard then
            setclipboard(text)
            return true
        elseif writeclipboard then
            writeclipboard(text)
            return true
        elseif toclipboard then
            toclipboard(text)
            return true
        else
            -- å¯¹äºä¸æ”¯æŒå‰ªè´´æ¿çš„æ‰§è¡Œå™¨ï¼Œæ‰“å°åˆ°æ§åˆ¶å°
            print("[å¤åˆ¶å†…å®¹] " .. text)
            return false
        end
    end
    
    -- æ˜¾ç¤ºå¤åˆ¶æˆåŠŸé€šçŸ¥
    local function ShowCopyNotification(success, content)
        if success then
            OrionLib:MakeNotification({
                Name = "å¤åˆ¶æˆåŠŸ",
                Content = "å·²å¤åˆ¶åˆ°å‰ªè´´æ¿: " .. content,
                Time = 3
            })
        else
            OrionLib:MakeNotification({
                Name = "å¤åˆ¶å¤±è´¥",
                Content = "è¯·æ‰‹åŠ¨å¤åˆ¶æ§åˆ¶å°ä¸­çš„å†…å®¹",
                Time = 5
            })
        end
    end

    -- æ˜¾ç¤ºå¡å¯†éªŒè¯çª—å£
    local function ShowKeyWindow()
        local KeyWindow = OrionLib:MakeWindow({
            Name = "å¡å¯†éªŒè¯ç³»ç»Ÿ",
            HidePremium = true,
            SaveConfig = false,
            IntroEnabled = false
        })
        
        local KeyTab = KeyWindow:MakeTab({
            Name = "éªŒè¯",
            Icon = "rbxassetid://4370345174"
        })
        
        KeyTab:AddLabel("è¯·è¾“å…¥æ‚¨çš„å¡å¯†ä»¥ç»§ç»­ä½¿ç”¨è„šæœ¬")
        KeyTab:AddParagraph("æ³¨æ„", "å¡å¯†åŒºåˆ†å¤§å°å†™ï¼Œè¯·ç¡®ä¿è¾“å…¥æ­£ç¡®")
        
        local KeyBox = KeyTab:AddTextbox({
            Name = "è¾“å…¥å¡å¯†",
            Default = "",
            TextDisappear = false,
            Callback = function(Value)
                KeySystem.CurrentKey = Value
            end
        })
        
        KeyTab:AddButton({
            Name = "éªŒè¯å¡å¯†",
            Callback = function()
                if KeySystem.CurrentKey and VerifyKey(KeySystem.CurrentKey) then
                    KeySystem.IsVerified = true
                    SaveKey(KeySystem.CurrentKey)
                    
                    OrionLib:MakeNotification({
                        Name = "éªŒè¯æˆåŠŸ",
                        Content = "å¡å¯†éªŒè¯é€šè¿‡ï¼Œæ¬¢è¿ä½¿ç”¨è„šæœ¬ï¼",
                        Time = 3
                    })
                    
                    KeyWindow:Destroy()
                    
                    -- åˆ›å»ºå¤å¤å¤§å¸è„šæœ¬åŠ¨ç”»
                    CreateKunKunAnimation()
                    
                    -- å»¶è¿Ÿåæ˜¾ç¤ºä¸»çª—å£
                    wait(2.5)
                    ShowMainWindow()
                else
                    OrionLib:MakeNotification({
                        Name = "éªŒè¯å¤±è´¥",
                        Content = "å¡å¯†æ— æ•ˆæˆ–å·²è¿‡æœŸï¼Œè¯·é‡è¯•ï¼",
                        Time = 3
                    })
                end
            end
        })
        
        KeyTab:AddButton({
            Name = "è·å–å¡å¯†",
            Callback = function()
                -- è¿™é‡Œå¯ä»¥æ‰“å¼€Discordé‚€è¯·æˆ–å…¶ä»–è·å–æ–¹å¼
                OrionLib:MakeNotification({
                    Name = "è·å–å¡å¯†",
                    Content = "è¯·åŠ å…¥Discord: https://discord.gg/xVUf7H9M",
                    Time = 5
                })
            end
        })
        
        -- æ·»åŠ ä¸€é”®å¤åˆ¶æŒ‰é’®
        KeyTab:AddButton({
            Name = "ä¸€é”®å¤åˆ¶å½“å‰å¡å¯†",
            Callback = function()
                if KeySystem.CurrentKey and KeySystem.CurrentKey ~= "" then
                    local success = CopyToClipboard(KeySystem.CurrentKey)
                    ShowCopyNotification(success, KeySystem.CurrentKey)
                else
                    OrionLib:MakeNotification({
                        Name = "å¤åˆ¶å¤±è´¥",
                        Content = "å½“å‰æ²¡æœ‰å¡å¯†å¯å¤åˆ¶",
                        Time = 3
                    })
                end
            end
        })
        
        -- æ·»åŠ ä¸€é”®å¤åˆ¶Discordé“¾æ¥æŒ‰é’®
        KeyTab:AddButton({
            Name = "ä¸€é”®å¤åˆ¶Discordé“¾æ¥",
            Callback = function()
                local discordLink = "https://discord.gg/xVUf7H9M"
                local success = CopyToClipboard(discordLink)
                ShowCopyNotification(success, discordLink)
            end
        })
        
        -- è‡ªåŠ¨å¡«å……å·²ä¿å­˜çš„å¡å¯†
        local savedKey = LoadKey()
        if savedKey then
            KeyBox:Set(savedKey)
            KeySystem.CurrentKey = savedKey
        end
    end
    
-- å¤å¤å¤§å¸è„šæœ¬å¼¹æ€§åŠ¨ç”» (5ç§’ç‰ˆæœ¬)
local function CreateKunKunAnimation()
    -- åˆ›å»ºå…¨å±èƒŒæ™¯
    local bg = Drawing.new("Square")
    bg.Size = workspace.CurrentCamera.ViewportSize
    bg.Position = Vector2.new(0, 0)
    bg.Color = Color3.new(0, 0, 0)
    bg.Filled = true
    bg.Transparency = 1
    bg.Visible = true
    bg.ZIndex = 999
    
    -- åˆ›å»ºå¤å¤å¤§å¸æ–‡å­—
    local text = Drawing.new("Text")
    text.Text = "å¤å¤å¤§å¸è„šæœ¬"
    text.Size = 100
    text.Center = true
    text.Position = Vector2.new(workspace.CurrentCamera.ViewportSize.X/2, -200) -- åˆå§‹ä½ç½®åœ¨å±å¹•ä¸Šæ–¹
    text.Color = Color3.new(1, 0.2, 0.2)
    text.Outline = true
    text.OutlineColor = Color3.new(1, 1, 1)
    text.Transparency = 0
    text.Visible = true
    text.ZIndex = 1000
    
    -- åˆ›å»ºå‰¯æ ‡é¢˜
    local subText = Drawing.new("Text")
    subText.Text = "å°Šäº«ç‰¹æƒç‰ˆ - å¯åŠ¨æˆåŠŸ"
    subText.Size = 40
    subText.Center = true
    subText.Position = Vector2.new(workspace.CurrentCamera.ViewportSize.X/2, -100) -- åˆå§‹ä½ç½®åœ¨å±å¹•ä¸Šæ–¹
    subText.Color = Color3.new(0.8, 0.8, 1)
    subText.Outline = true
    subText.OutlineColor = Color3.new(0.2, 0.2, 0.2)
    subText.Transparency = 0
    subText.Visible = true
    subText.ZIndex = 1000
    
    -- å¼¹æ€§åŠ¨ç”»å‡½æ•° (æ¨¡æ‹Ÿå¼¹ç°§ç‰©ç†æ•ˆæœ)
    local function elasticAnimation(obj, targetY, duration)
        local startY = obj.Position.Y
        local startTime = tick()
        local damping = 0.7 -- é˜»å°¼ç³»æ•° (0-1)
        local stiffness = 0.3 -- å¼¹æ€§ç³»æ•°
        
        local connection
        connection = game:GetService("RunService").RenderStepped:Connect(function()
            local elapsed = tick() - startTime
            local progress = elapsed / duration
            
            if progress >= 1 then
                obj.Position = Vector2.new(obj.Position.X, targetY)
                connection:Disconnect()
                return
            end
            
            -- å¼¹æ€§è®¡ç®—å…¬å¼
            local overshoot = math.sin(progress * math.pi * 4) * (1 - progress)
            local newY = targetY + (startY - targetY) * math.pow(1 - progress, 2) * overshoot * stiffness
            
            -- åº”ç”¨é˜»å°¼
            stiffness = stiffness * damping
            
            obj.Position = Vector2.new(obj.Position.X, newY)
        end)
    end
    
    spawn(function()
        -- èƒŒæ™¯æ·¡å…¥
        for i = 0, 1, 0.05 do
            bg.Transparency = 1 - i * 0.7
            wait(0.01)
        end
        
        -- ä¸»æ ‡é¢˜å¼¹æ€§ä¸‹è½ (ç›®æ ‡Yä½ç½®æ˜¯å±å¹•ä¸­å¿ƒ-100)
        elasticAnimation(text, workspace.CurrentCamera.ViewportSize.Y/2 - 100, 1.5)
        
        -- å‰¯æ ‡é¢˜å»¶è¿Ÿ0.2ç§’åå¼¹æ€§ä¸‹è½
        wait(0.2)
        elasticAnimation(subText, workspace.CurrentCamera.ViewportSize.Y/2 + 20, 1.3)
        
        -- æ€»åœç•™æ—¶é—´5ç§’ (ä»åŠ¨ç”»å¼€å§‹è®¡ç®—)
        wait(3.5) -- å› ä¸ºåŠ¨ç”»å·²ç»ç”¨äº†1.5ç§’
        
        -- æ·¡å‡ºåŠ¨ç”»
        for i = 0, 1, 0.05 do
            text.Transparency = i
            subText.Transparency = i
            bg.Transparency = 0.3 + i * 0.7
            wait(0.01)
        end
        
        -- ç§»é™¤ç»˜å›¾å¯¹è±¡
        bg:Remove()
        text:Remove()
        subText:Remove()
    end)
end

-- è°ƒç”¨åŠ¨ç”»å‡½æ•°
CreateKunKunAnimation()

    -- æ˜¾ç¤ºä¸»çª—å£ï¼ˆéªŒè¯é€šè¿‡åï¼‰
    local function ShowMainWindow()
        -- ä¸»çª—å£
        local Window = OrionLib:MakeWindow({
            IntroText = "å¤å¤å¤§å¸è„šæœ¬",
            Name = "å¤å¤å¤§å¸è„šæœ¬ - " .. identifyexecutor(),
            HidePremium = false,
            SaveConfig = true,
            ConfigFolder = "StitchConfig"
        })
        
        -- å…¬å‘Š Tab
        local Tab1 = Window:MakeTab({Name = "å…¬å‘Š", Icon = "rbxassetid://7733779610"})
        local function getDate() return os.date("%Y-%m-%d %H:%M") end
        local function getPlayer()
            local p = game.Players.LocalPlayer
            return {
                ["ç”¨æˆ·å"]   = p.Name,
                ["æ˜¾ç¤ºå"]   = p.DisplayName,
                ["ç”¨æˆ·ID"]   = p.UserId,
                ["æ³¨å†Œå¤©æ•°"] = p.AccountAge,
                ["å½“å‰æ¸¸æˆ"] = game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name
            }
        end
        Tab1:AddLabel("ğŸ“… å½“å‰æ—¶é—´")
        Tab1:AddLabel(getDate())
        for k, v in pairs(getPlayer()) do
            Tab1:AddLabel(k .. "ï¼š " .. tostring(v))
        end
        
        -- æ·»åŠ ä¸€é”®å¤åˆ¶QQå·æŒ‰é’®
        Tab1:AddButton({
            Name = "ä¸€é”®å¤åˆ¶QQå·", 
            Callback = function() 
                local success = CopyToClipboard("913348285")
                ShowCopyNotification(success, "913348285")
            end
        })
        
        -- ç¡®ä¿ä½ å‰é¢æœ‰è¿™è¡Œï¼ˆæ”¾åœ¨ OrionLib åˆå§‹åŒ–åï¼‰
        local Tab4 = Window:MakeTab({Name = "äººç‰©åŠŸèƒ½", Icon = "rbxassetid://7733779610"})
        
        -- å…¼å®¹ executor æ²¡æœ‰ mouse1press / mouse1release
        local mouse1press  = mouse1press  or function()
            local vim = game:GetService("VirtualInputManager")
            vim:SendMouseButtonEvent(0,0,0,true,game,1)
        end
        local mouse1release = mouse1release or function()
            local vim = game:GetService("VirtualInputManager")
            vim:SendMouseButtonEvent(0,0,0,false,game,1)
        end
        
        -----------------------------------------------------------------
        -- â‘¤ åŒç‹¬ç«‹ FOVï¼ˆç™½è·Ÿéš + æ©™å›ºå®šï¼‰éƒ½å‚ä¸ç„å‡†åˆ¤å®š
        -----------------------------------------------------------------
        -- é€šç”¨å‚æ•°
        local aimbotEnabled      = false
        local aimbotSmooth       = 0.35
        local aimbotBone         = "Head"
        local aimbotPrediction   = 0.12
        local aimbotDelay        = 0.08
        local aimbotCheckTeam    = true
        local lastFire = 0
        local aimbotConn
        
        -- ç¼ºå¤±å˜é‡ä¸€æ¬¡æ€§è¡¥å…¨
        local Camera = workspace.CurrentCamera
        local UserInputService = game:GetService("UserInputService")
        local Players = game:GetService("Players")
        local LocalPlayer = Players.LocalPlayer
        
        -- 1. è·Ÿéšé¼ æ ‡ FOV
        local mouseFOV      = 120
        local mouseFovCircle = Drawing.new("Circle")
        mouseFovCircle.NumSides  = 64
        mouseFovCircle.Radius    = mouseFOV
        mouseFovCircle.Thickness = 1.5
        mouseFovCircle.Color     = Color3.fromRGB(255,255,255)
        mouseFovCircle.Filled    = false
        mouseFovCircle.Visible   = false
        mouseFovCircle.ZIndex = 10
        
        -- 2. å›ºå®šä¸­å¿ƒ FOV
        local fixedFOV      = 90
        local fixedFovCircle = Drawing.new("Circle")
        fixedFovCircle.NumSides  = 64
        fixedFovCircle.Radius    = fixedFOV
        fixedFovCircle.Thickness = 1.5
        fixedFovCircle.Color     = Color3.fromRGB(255,165,0)
        fixedFovCircle.Filled    = false
        fixedFovCircle.Visible   = false
        fixedFovCircle.ZIndex = 9
        
        -- å›ºå®šåœ†ä¸­å¿ƒä¸€æ¬¡è®¾ç½®
        local function setFixedCenter()
            local center = Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y/2)
            fixedFovCircle.Position = center
        end
        Camera:GetPropertyChangedSignal("ViewportSize"):Connect(setFixedCenter)
        setFixedCenter()
        
        -- å·¥å…·å‡½æ•°
        local function getAimPos(character)
            if not character then return nil end
            local root = character:FindFirstChild("HumanoidRootPart")
            local bone = character:FindFirstChild(aimbotBone) or character:FindFirstChild("Head")
            if not (root and bone) then return nil end
            local vel = root.Velocity.Magnitude < 1 and Vector3.new(0,0,0) or root.Velocity
            return bone.Position + vel * aimbotPrediction
        end
        
        local function isVisible(pos, ignore)
            local origin = Camera.CFrame.Position
            local direction = (pos - origin).Unit
            local ray = Ray.new(origin, direction * (origin - pos).Magnitude)
            local part, position = workspace:FindPartOnRayWithIgnoreList(ray, ignore or {LocalPlayer.Character})
            return part == nil or part:IsDescendantOf(LocalPlayer.Character)
        end
        
        -- åˆ¤å®šæ˜¯å¦åœ¨ä»»ä¸€ FOV
        local function inAnyFOV(worldPos)
            local screenPos = Camera:WorldToViewportPoint(worldPos)
            if screenPos.Z <= 0 then return false end
            
            local mousePos = UserInputService:GetMouseLocation()
            local center = Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y/2)
            
            -- è·Ÿéšåœ†
            if mouseFovCircle.Visible then
                if (Vector2.new(screenPos.X, screenPos.Y) - mousePos).Magnitude <= mouseFOV then
                    return true
                end
            end
            
            -- å›ºå®šåœ†
            if fixedFovCircle.Visible then
                if (Vector2.new(screenPos.X, screenPos.Y) - center).Magnitude <= fixedFOV then
                    return true
                end
            end
            
            return false
        end
        
        -- å–æœ€è¿‘ç›®æ ‡ï¼ˆä»¥å›ºå®šä¸­å¿ƒä¸ºåŸºå‡†ï¼‰
        local function getClosest()
            local closest, minDist = nil, math.huge
            local center = Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y/2)
            
            for _, plr in ipairs(Players:GetPlayers()) do
                if plr == LocalPlayer then continue end
                if aimbotCheckTeam and plr.Team and plr.Team == LocalPlayer.Team then continue end
                
                local char = plr.Character
                if not char then continue end
                
                local aimPos = getAimPos(char)
                if not aimPos then continue end
                if not inAnyFOV(aimPos) then continue end
                
                local ignoreList = {LocalPlayer.Character, Camera}
                if not isVisible(aimPos, ignoreList) then continue end
                
                local sp = Camera:WorldToViewportPoint(aimPos)
                if sp.Z <= 0 then continue end
                
                local dist = (Vector2.new(sp.X, sp.Y) - center).Magnitude
                if dist < minDist then
                    minDist, closest = dist, plr
                end
            end
            return closest
        end
        
        -- ä¸»å¾ªç¯ï¼ˆå¸¦é˜²ç¬ç”©ï¼‰
        local function startAimbot()
            if aimbotConn then return end
            
            aimbotConn = game:GetService("RunService").RenderStepped:Connect(function()
                if not aimbotEnabled then return end
                
                -- æ›´æ–°è·Ÿéšåœ†
                mouseFovCircle.Position = UserInputService:GetMouseLocation()
        
                local target = getClosest()
                if not target or not target.Character then return end
                
                local aimPos = getAimPos(target.Character)
                if not aimPos then return end
        
                -- å®‰å…¨ + è§’åº¦é™åˆ¶
                local delta = aimPos - Camera.CFrame.Position
                if delta.Magnitude < 0.1 then return end
                
                local targetCF = CFrame.new(Camera.CFrame.Position, Camera.CFrame.Position + delta)
                local currentLook = Camera.CFrame.LookVector
                local targetLook = targetCF.LookVector
                
                local dot = currentLook:Dot(targetLook)
                local angle = math.acos(math.clamp(dot, -1, 1))
                local maxAngle = math.rad(90)
                
                if angle <= maxAngle then
                    local smoothFactor = math.clamp(aimbotSmooth, 0.01, 0.99)
                    local newLook = currentLook:Lerp(targetLook, 1 - smoothFactor)
                    Camera.CFrame = CFrame.new(Camera.CFrame.Position, Camera.CFrame.Position + newLook)
                end
        
                if tick() - lastFire > aimbotDelay then
                    mouse1press()
                    task.wait(0.05)
                    mouse1release()
                    lastFire = tick()
                end
            end)
        end
        
        local function stopAimbot()
            if aimbotConn then 
                aimbotConn:Disconnect() 
                aimbotConn = nil 
            end
            mouseFovCircle.Visible = false
            fixedFovCircle.Visible = false
        end
        
        -----------------------------------------------------------------
        -- UI æ„å»ºï¼ˆåŸæ ·ä¿ç•™ï¼‰
        -----------------------------------------------------------------
        local aimbotSec = Tab4:AddSection({Name = "AI-Aimbot"})
        aimbotSec:AddToggle({
            Name = "å¯ç”¨ Aimbot",
            Default = false,
            Callback = function(v)
                aimbotEnabled = v
                if v then 
                    startAimbot() 
                else 
                    stopAimbot() 
                end
            end
        })
        aimbotSec:AddToggle({
            Name = "ä»…ç„å‡†æ•Œäºº",
            Default = aimbotCheckTeam,
            Callback = function(v) aimbotCheckTeam = v end
        })
        
        local mouseSec = Tab4:AddSection({Name = "è·Ÿéšé¼ æ ‡ FOV"})
        local mouseTog = mouseSec:AddToggle({ Name = "æ˜¾ç¤ºè·ŸéšFOV", Default = false, Callback = function(v) mouseFovCircle.Visible = v end })
        local mouseSlider = mouseSec:AddSlider({ Name = "åŠå¾„ï¼ˆæ»‘æ¡ï¼‰", Min = 0, Max = 500, Default = mouseFOV, Increment = 5, Callback = function(v) mouseFOV = v; mouseFovCircle.Radius = v end })
        mouseSec:AddTextbox({ Name = "åŠå¾„ï¼ˆè¾“å…¥ï¼‰", Default = tostring(mouseFOV), Callback = function(txt) local n = tonumber(txt) if n then mouseFOV = n; mouseFovCircle.Radius = n; mouseSlider:Set(n) end end })
        
        local fixedSec = Tab4:AddSection({Name = "å›ºå®šä¸­å¿ƒ FOV"})
        local fixedTog = fixedSec:AddToggle({ Name = "æ˜¾ç¤ºå›ºå®šFOV", Default = false, Callback = function(v) fixedFovCircle.Visible = v end })
        local fixedSlider = fixedSec:AddSlider({ Name = "åŠå¾„ï¼ˆæ»‘æ¡ï¼‰", Min = 0, Max = 500, Default = fixedFOV, Increment = 5, Callback = function(v) fixedFOV = v; fixedFovCircle.Radius = v end })
        fixedSec:AddTextbox({ Name = "åŠå¾„ï¼ˆè¾“å…¥ï¼‰", Default = tostring(fixedFOV), Callback = function(txt) local n = tonumber(txt) if n then fixedFOV = n; fixedFovCircle.Radius = n; fixedSlider:Set(n) end end })
        
        local commonSec = Tab4:AddSection({Name = "é€šç”¨å‚æ•°"})
        local smoothSlider = commonSec:AddSlider({ Name = "å¹³æ»‘ç³»æ•°ï¼ˆæ»‘æ¡ï¼‰", Min = 0, Max = 1, Default = aimbotSmooth, Increment = 0.01, Callback = function(v) aimbotSmooth = v end })
        commonSec:AddTextbox({ Name = "å¹³æ»‘ç³»æ•°ï¼ˆè¾“å…¥ï¼‰", Default = tostring(aimbotSmooth), Callback = function(txt) local n = tonumber(txt) if n then aimbotSmooth = n; smoothSlider:Set(n) end end })
        local predSlider = commonSec:AddSlider({ Name = "é¢„æµ‹ (ç§’)ï¼ˆæ»‘æ¡ï¼‰", Min = 0, Max = 1, Default = aimbotPrediction, Increment = 0.01, Callback = function(v) aimbotPrediction = v end })
        commonSec:AddTextbox({ Name = "é¢„æµ‹ (ç§’)ï¼ˆè¾“å…¥ï¼‰", Default = tostring(aimbotPrediction), Callback = function(txt) local n = tonumber(txt) if n then aimbotPrediction = n; predSlider:Set(n) end end })
        local delaySlider = commonSec:AddSlider({ Name = "å¼€ç«å»¶è¿Ÿ (ç§’)ï¼ˆæ»‘æ¡ï¼‰", Min = 0, Max = 1, Default = aimbotDelay, Increment = 0.01, Callback = function(v) aimbotDelay = v end })
        commonSec:AddTextbox({ Name = "å¼€ç«å»¶è¿Ÿ (ç§’)ï¼ˆè¾“å…¥ï¼‰", Default = tostring(aimbotDelay), Callback = function(txt) local n = tonumber(txt) if n then aimbotDelay = n; delaySlider:Set(n) end end })
        commonSec:AddDropdown({ Name = "ç„å‡†éª¨éª¼", Default = aimbotBone, Options = {"Head","Neck","UpperTorso","HumanoidRootPart"}, Callback = function(v) aimbotBone = v end })
        
        
        -----------------------------------------------------------------
        -- â‘¥ åˆ é™¤é˜´å½±ï¼ˆå…¨å±€å¼€å…³ï¼‰
        -----------------------------------------------------------------
        Tab4:AddToggle({
            Name = "åˆ é™¤é˜´å½±",
            Default = false,
            Callback = function(v)
                game.Lighting.GlobalShadows = not v
                for _, l in ipairs(workspace:GetDescendants()) do
                    if l:IsA("BasePart") or l:IsA("MeshPart") then
                        l.CastShadow = not v
                    end
                end
                OrionLib:MakeNotification({Name = "æç¤º", Content = v and "é˜´å½±å·²åˆ é™¤" or "é˜´å½±å·²æ¢å¤", Time = 2})
            end
        })
   --é£è¡Œ
    Tab8:AddButton({Name = "é£è¡Œ", Callback = function()
        local main = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local up = Instance.new("TextButton")
local down = Instance.new("TextButton")
local onof = Instance.new("TextButton")
local TextLabel = Instance.new("TextLabel")
local plus = Instance.new("TextButton")
local speed = Instance.new("TextLabel")
local mine = Instance.new("TextButton")
local closebutton = Instance.new("TextButton")
local mini = Instance.new("TextButton")
local mini2 = Instance.new("TextButton")

main.Name = "main"
main.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
main.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
main.ResetOnSpawn = false

Frame.Parent = main
Frame.BackgroundColor3 = Color3.fromRGB(163, 255, 137)
Frame.BorderColor3 = Color3.fromRGB(103, 221, 213)
Frame.Position = UDim2.new(0.100320168, 0, 0.379746825, 0)
Frame.Size = UDim2.new(0, 190, 0, 57)

up.Name = "up"
up.Parent = Frame
up.BackgroundColor3 = Color3.fromRGB(79, 255, 152)
up.Size = UDim2.new(0, 44, 0, 28)
up.Font = Enum.Font.SourceSans
up.Text = "ä¸Šä½ å¦ˆ"
---ä¸Šä½ å¦ˆ
up.TextColor3 = Color3.fromRGB(0, 0, 0)
up.TextSize = 14.000

down.Name = "down"
down.Parent = Frame
down.BackgroundColor3 = Color3.fromRGB(215, 255, 121)
down.Position = UDim2.new(0, 0, 0.491228074, 0)
down.Size = UDim2.new(0, 44, 0, 28)
down.Font = Enum.Font.SourceSans
down.Text = "ä¸‹ï¼Œä¸ä¸€å®šä¼šä¸‹"
---ä¸‹ï¼Œä¸ä¸€å®šä¼šä¸‹
down.TextColor3 = Color3.fromRGB(0, 0, 0)
down.TextSize = 14.000

onof.Name = "onof"
onof.Parent = Frame
onof.BackgroundColor3 = Color3.fromRGB(255, 249, 74)
onof.Position = UDim2.new(0.702823281, 0, 0.491228074, 0)
onof.Size = UDim2.new(0, 56, 0, 28)
onof.Font = Enum.Font.SourceSans
onof.Text = "ç‹¼é˜Ÿfly"
---ç‹¼é˜Ÿfly
onof.TextColor3 = Color3.fromRGB(0, 0, 0)
onof.TextSize = 14.000

TextLabel.Parent = Frame
TextLabel.BackgroundColor3 = Color3.fromRGB(242, 60, 255)
TextLabel.Position = UDim2.new(0.469327301, 0, 0, 0)
TextLabel.Size = UDim2.new(0, 100, 0, 28)
TextLabel.Font = Enum.Font.SourceSans
TextLabel.Text = "Fly GUI V0.5"
---Fly GUI V0.5
TextLabel.TextColor3 = Color3.fromRGB(0, 0, 0)
TextLabel.TextScaled = true
TextLabel.TextSize = 14.000
TextLabel.TextWrapped = true

plus.Name = "plus"
plus.Parent = Frame
plus.BackgroundColor3 = Color3.fromRGB(133, 145, 255)
plus.Position = UDim2.new(0.231578946, 0, 0, 0)
plus.Size = UDim2.new(0, 45, 0, 28)
plus.Font = Enum.Font.SourceSans
plus.Text = "åŠ ï¼Ÿå‡ï¼"
---åŠ ï¼Ÿå‡ï¼
plus.TextColor3 = Color3.fromRGB(0, 0, 0)
plus.TextScaled = true
plus.TextSize = 14.000
plus.TextWrapped = true

speed.Name = "speed"
speed.Parent = Frame
speed.BackgroundColor3 = Color3.fromRGB(255, 85, 0)
speed.Position = UDim2.new(0.468421042, 0, 0.491228074, 0)
speed.Size = UDim2.new(0, 44, 0, 28)
speed.Font = Enum.Font.SourceSans
speed.Text = "1"
speed.TextColor3 = Color3.fromRGB(0, 0, 0)
speed.TextScaled = true
speed.TextSize = 14.000
speed.TextWrapped = true

mine.Name = "mine"
mine.Parent = Frame
mine.BackgroundColor3 = Color3.fromRGB(123, 255, 247)
mine.Position = UDim2.new(0.231578946, 0, 0.491228074, 0)
mine.Size = UDim2.new(0, 45, 0, 29)
mine.Font = Enum.Font.SourceSans
mine.Text = "åŠ "
---åŠ 
mine.TextColor3 = Color3.fromRGB(0, 0, 0)
mine.TextScaled = true
mine.TextSize = 14.000
mine.TextWrapped = true

closebutton.Name = "Close"
closebutton.Parent = main.Frame
closebutton.BackgroundColor3 = Color3.fromRGB(225, 25, 0)
closebutton.Font = "SourceSans"
closebutton.Size = UDim2.new(0, 45, 0, 28)
closebutton.Text = "å…³"
---å…³
closebutton.TextSize = 30
closebutton.Position =  UDim2.new(0, 0, -1, 27)

mini.Name = "minimize"
mini.Parent = main.Frame
mini.BackgroundColor3 = Color3.fromRGB(192, 150, 230)
mini.Font = "SourceSans"
mini.Size = UDim2.new(0, 45, 0, 28)
mini.Text = "T"
mini.TextSize = 30
mini.Position = UDim2.new(0, 44, -1, 27)

mini2.Name = "minimize2"
mini2.Parent = main.Frame
mini2.BackgroundColor3 = Color3.fromRGB(192, 150, 230)
mini2.Font = "SourceSans"
mini2.Size = UDim2.new(0, 45, 0, 28)
mini2.Text = "T"
mini2.TextSize = 30
mini2.Position = UDim2.new(0, 44, -1, 57)
mini2.Visible = false

speeds = 1

local speaker = game:GetService("Players").LocalPlayer

local chr = game.Players.LocalPlayer.Character
local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")

nowe = false

game:GetService("StarterGui"):SetCore("SendNotification", { 
	Title = "Fly GUI V3";
	Text = "lnjection succeeded";
	Icon = "rbxthumb://type=Asset&id=5107182114&w=150&h=150"})
Duration = 5;

Frame.Active = true -- main = gui
Frame.Draggable = true

onof.MouseButton1Down:connect(function()

	if nowe == true then
		nowe = false

		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Flying,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Jumping,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Landed,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Running,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.RunningNoPhysics,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.StrafingNoPhysics,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming,true)
		speaker.Character.Humanoid:ChangeState(Enum.HumanoidStateType.RunningNoPhysics)
	else 
		nowe = true



		for i = 1, speeds do
			spawn(function()

				local hb = game:GetService("RunService").Heartbeat	


				tpwalking = true
				local chr = game.Players.LocalPlayer.Character
				local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
				while tpwalking and hb:Wait() and chr and hum and hum.Parent do
					if hum.MoveDirection.Magnitude > 0 then
						chr:TranslateBy(hum.MoveDirection)
					end
				end

			end)
		end
		game.Players.LocalPlayer.Character.Animate.Disabled = true
		local Char = game.Players.LocalPlayer.Character
		local Hum = Char:FindFirstChildOfClass("Humanoid") or Char:FindFirstChildOfClass("AnimationController")

		for i,v in next, Hum:GetPlayingAnimationTracks() do
			v:AdjustSpeed(0)
		end
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Flying,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Jumping,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Landed,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Running,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.RunningNoPhysics,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.StrafingNoPhysics,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming,false)
		speaker.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Swimming)
	end




	if game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Humanoid").RigType == Enum.HumanoidRigType.R6 then



		local plr = game.Players.LocalPlayer
		local torso = plr.Character.Torso
		local flying = true
		local deb = true
		local ctrl = {f = 0, b = 0, l = 0, r = 0}
		local lastctrl = {f = 0, b = 0, l = 0, r = 0}
		local maxspeed = 50
		local speed = 0


		local bg = Instance.new("BodyGyro", torso)
		bg.P = 9e4
		bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
		bg.cframe = torso.CFrame
		local bv = Instance.new("BodyVelocity", torso)
		bv.velocity = Vector3.new(0,0.1,0)
		bv.maxForce = Vector3.new(9e9, 9e9, 9e9)
		if nowe == true then
			plr.Character.Humanoid.PlatformStand = true
		end
		while nowe == true or game:GetService("Players").LocalPlayer.Character.Humanoid.Health == 0 do
			game:GetService("RunService").RenderStepped:Wait()

			if ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0 then
				speed = speed+.5+(speed/maxspeed)
				if speed > maxspeed then
					speed = maxspeed
				end
			elseif not (ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0) and speed ~= 0 then
				speed = speed-1
				if speed < 0 then
					speed = 0
				end
			end
			if (ctrl.l + ctrl.r) ~= 0 or (ctrl.f + ctrl.b) ~= 0 then
				bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (ctrl.f+ctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(ctrl.l+ctrl.r,(ctrl.f+ctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
				lastctrl = {f = ctrl.f, b = ctrl.b, l = ctrl.l, r = ctrl.r}
			elseif (ctrl.l + ctrl.r) == 0 and (ctrl.f + ctrl.b) == 0 and speed ~= 0 then
				bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (lastctrl.f+lastctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(lastctrl.l+lastctrl.r,(lastctrl.f+lastctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
			else
				bv.velocity = Vector3.new(0,0,0)
			end
			--	game.Players.LocalPlayer.Character.Animate.Disabled = true
			bg.cframe = game.Workspace.CurrentCamera.CoordinateFrame * CFrame.Angles(-math.rad((ctrl.f+ctrl.b)*50*speed/maxspeed),0,0)
		end
		ctrl = {f = 0, b = 0, l = 0, r = 0}
		lastctrl = {f = 0, b = 0, l = 0, r = 0}
		speed = 0
		bg:Destroy()
		bv:Destroy()
		plr.Character.Humanoid.PlatformStand = false
		game.Players.LocalPlayer.Character.Animate.Disabled = false
		tpwalking = false




	else
		local plr = game.Players.LocalPlayer
		local UpperTorso = plr.Character.UpperTorso
		local flying = true
		local deb = true
		local ctrl = {f = 0, b = 0, l = 0, r = 0}
		local lastctrl = {f = 0, b = 0, l = 0, r = 0}
		local maxspeed = 50
		local speed = 0


		local bg = Instance.new("BodyGyro", UpperTorso)
		bg.P = 9e4
		bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
		bg.cframe = UpperTorso.CFrame
		local bv = Instance.new("BodyVelocity", UpperTorso)
		bv.velocity = Vector3.new(0,0.1,0)
		bv.maxForce = Vector3.new(9e9, 9e9, 9e9)
		if nowe == true then
			plr.Character.Humanoid.PlatformStand = true
		end
		while nowe == true or game:GetService("Players").LocalPlayer.Character.Humanoid.Health == 0 do
			wait()

			if ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0 then
				speed = speed+.5+(speed/maxspeed)
				if speed > maxspeed then
					speed = maxspeed
				end
			elseif not (ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0) and speed ~= 0 then
				speed = speed-1
				if speed < 0 then
					speed = 0
				end
			end
			if (ctrl.l + ctrl.r) ~= 0 or (ctrl.f + ctrl.b) ~= 0 then
				bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (ctrl.f+ctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(ctrl.l+ctrl.r,(ctrl.f+ctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
				lastctrl = {f = ctrl.f, b = ctrl.b, l = ctrl.l, r = ctrl.r}
			elseif (ctrl.l + ctrl.r) == 0 and (ctrl.f + ctrl.b) == 0 and speed ~= 0 then
				bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (lastctrl.f+lastctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(lastctrl.l+lastctrl.r,(lastctrl.f+lastctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
			else
				bv.velocity = Vector3.new(0,0,0)
			end

			bg.cframe = game.Workspace.CurrentCamera.CoordinateFrame * CFrame.Angles(-math.rad((ctrl.f+ctrl.b)*50*speed/maxspeed),0,0)
		end
		ctrl = {f = 0, b = 0, l = 0, r = 0}
		lastctrl = {f = 0, b = 0, l = 0, r = 0}
		speed = 0
		bg:Destroy()
		bv:Destroy()
		plr.Character.Humanoid.PlatformStand = false
		game.Players.LocalPlayer.Character.Animate.Disabled = false
		tpwalking = false



	end





end)

local tis

up.MouseButton1Down:connect(function()
	tis = up.MouseEnter:connect(function()
		while tis do
			wait()
			game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0,1,0)
		end
	end)
end)

up.MouseLeave:connect(function()
	if tis then
		tis:Disconnect()
		tis = nil
	end
end)

local dis

down.MouseButton1Down:connect(function()
	dis = down.MouseEnter:connect(function()
		while dis do
			wait()
			game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0,-1,0)
		end
	end)
end)

down.MouseLeave:connect(function()
	if dis then
		dis:Disconnect()
		dis = nil
	end
end)


game:GetService("Players").LocalPlayer.CharacterAdded:Connect(function(char)
	wait(0.7)
	game.Players.LocalPlayer.Character.Humanoid.PlatformStand = false
	game.Players.LocalPlayer.Character.Animate.Disabled = false

end)


plus.MouseButton1Down:connect(function()
	speeds = speeds + 1
	speed.Text = speeds
	if nowe == true then


		tpwalking = false
		for i = 1, speeds do
			spawn(function()

				local hb = game:GetService("RunService").Heartbeat	


				tpwalking = true
				local chr = game.Players.LocalPlayer.Character
				local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
				while tpwalking and hb:Wait() and chr and hum and hum.Parent do
					if hum.MoveDirection.Magnitude > 0 then
						chr:TranslateBy(hum.MoveDirection)
					end
				end

			end)
		end
	end
end)
mine.MouseButton1Down:connect(function()
	if speeds == 1 then
		speed.Text = 'flyno1'
		wait(1)
		speed.Text = speeds
	else
		speeds = speeds - 1
		speed.Text = speeds
		if nowe == true then
			tpwalking = false
			for i = 1, speeds do
				spawn(function()

					local hb = game:GetService("RunService").Heartbeat	


					tpwalking = true
					local chr = game.Players.LocalPlayer.Character
					local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
					while tpwalking and hb:Wait() and chr and hum and hum.Parent do
						if hum.MoveDirection.Magnitude > 0 then
							chr:TranslateBy(hum.MoveDirection)
						end
					end

				end)
			end
		end
	end
end)

closebutton.MouseButton1Click:Connect(function()
	main:Destroy()
end)

mini.MouseButton1Click:Connect(function()
	up.Visible = false
	down.Visible = false
	onof.Visible = false
	plus.Visible = false
	speed.Visible = false
	mine.Visible = false
	mini.Visible = false
	mini2.Visible = true
	main.Frame.BackgroundTransparency = 1
	closebutton.Position =  UDim2.new(0, 0, -1, 57)
end)

mini2.MouseButton1Click:Connect(function()
	up.Visible = true
	down.Visible = true
	onof.Visible = true
	plus.Visible = true
	speed.Visible = true
	mine.Visible = true
	mini.Visible = true
	mini2.Visible = false
	main.Frame.BackgroundTransparency = 0 
	closebutton.Position =  UDim2.new(0, 0, -1, 27)
end)
    end})     
        
        
        -----------------------------------------------------------------
        -- â‘§ å¢å¼ºç‰ˆç©å®¶ ESPï¼ˆå«é˜Ÿä¼æ£€æµ‹ã€è·ç¦»ã€è¡€æ¡å’Œå¯è§æ€§ï¼‰
        -----------------------------------------------------------------
        local espEnabled = false
        local espCache = {}
        
        -- è·å–é˜Ÿä¼é¢œè‰²
        local function getTeamColor(plr)
            if plr.Team and LocalPlayer.Team and plr.Team == LocalPlayer.Team then
                return Color3.fromRGB(0, 255, 0) -- é˜Ÿå‹ç»¿è‰²
            else
                return Color3.fromRGB(255, 0, 0) -- æ•Œäººçº¢è‰²
            end
        end
        
        -- åˆ›å»ºESPå¯¹è±¡
        local function createESPObject(plr)
            local esp = {
                Box = Drawing.new("Quad"),
                Name = Drawing.new("Text"),
                Distance = Drawing.new("Text"),
                HealthBar = Drawing.new("Quad"),
                HealthText = Drawing.new("Text")
            }
            
            -- è®¾ç½®åˆå§‹å±æ€§
            esp.Box.Thickness = 1.5
            esp.Box.Filled = false
            esp.Box.ZIndex = 5
            
            esp.Name.Size = 18
            esp.Name.Center = true
            esp.Name.Outline = true
            esp.Name.ZIndex = 6
            
            esp.Distance.Size = 16
            esp.Distance.Center = true
            esp.Distance.Outline = true
            esp.Distance.ZIndex = 6
            
            esp.HealthBar.Filled = true
            esp.HealthBar.Thickness = 1
            esp.HealthBar.ZIndex = 5
            
            esp.HealthText.Size = 14
            esp.HealthText.Center = true
            esp.HealthText.Outline = true
            esp.HealthText.ZIndex = 6
            
            espCache[plr] = esp
            return esp
        end
        
        -- æ›´æ–°ESP
        local function updateESP()
            if not espEnabled then return end
            
            for _, plr in ipairs(Players:GetPlayers()) do
                if plr == LocalPlayer then continue end
                
                local char = plr.Character
                if not char then
                    if espCache[plr] then
                        for _, obj in pairs(espCache[plr]) do
                            obj.Visible = false
                        end
                    end
                    continue end
                
                local root = char:FindFirstChild("HumanoidRootPart")
                local head = char:FindFirstChild("Head")
                local humanoid = char:FindFirstChildOfClass("Humanoid")
                
                if not (root and head and humanoid) then continue end
                
                -- è·å–å±å¹•ä½ç½®
                local rootPos, rootVis = Camera:WorldToViewportPoint(root.Position)
                local headPos, headVis = Camera:WorldToViewportPoint(head.Position + Vector3.new(0, 1.5, 0))
                
                if not (rootVis and headVis) then
                    if espCache[plr] then
                        for _, obj in pairs(espCache[plr]) do
                            obj.Visible = false
                        end
                    end
                    continue
                end
                
                -- åˆ›å»ºæˆ–è·å–ESPå¯¹è±¡
                local esp = espCache[plr] or createESPObject(plr)
                
                -- è®¡ç®—å°ºå¯¸
                local height = math.abs(headPos.Y - rootPos.Y) * 1.5
                local width = height * 0.6
                local left = headPos.X - width / 2
                local right = headPos.X + width / 2
                
                -- è®¾ç½®é¢œè‰²
                local color = getTeamColor(plr)
                
                -- æ›´æ–°æ–¹æ¡†
                esp.Box.Visible = true
                esp.Box.Color = color
                esp.Box.PointA = Vector2.new(left, headPos.Y)
                esp.Box.PointB = Vector2.new(right, headPos.Y)
                esp.Box.PointC = Vector2.new(right, headPos.Y + height)
                esp.Box.PointD = Vector2.new(left, headPos.Y + height)
                
                -- æ›´æ–°åå­—
                esp.Name.Visible = true
                esp.Name.Color = color
                esp.Name.Position = Vector2.new(headPos.X, headPos.Y - 20)
                esp.Name.Text = plr.Name
                
                -- æ›´æ–°è·ç¦»
                local distance = math.floor((root.Position - Camera.CFrame.Position).Magnitude)
                esp.Distance.Visible = true
                esp.Distance.Color = color
                esp.Distance.Position = Vector2.new(headPos.X, headPos.Y + height + 5)
                esp.Distance.Text = tostring(distance) .. "m"
                
                -- æ›´æ–°è¡€æ¡
                local healthPercent = math.clamp(humanoid.Health / humanoid.MaxHealth, 0, 1)
                local barWidth = width
                local barHeight = 5
                local barX = left
                local barY = headPos.Y + height + 20
                
                esp.HealthBar.Visible = true
                esp.HealthBar.Color = Color3.new(1 - healthPercent, healthPercent, 0)
                esp.HealthBar.PointA = Vector2.new(barX, barY)
                esp.HealthBar.PointB = Vector2.new(barX + barWidth * healthPercent, barY)
                esp.HealthBar.PointC = Vector2.new(barX + barWidth * healthPercent, barY + barHeight)
                esp.HealthBar.PointD = Vector2.new(barX, barY + barHeight)
                
                -- æ›´æ–°è¡€é‡æ–‡æœ¬
                esp.HealthText.Visible = true
                esp.HealthText.Color = Color3.new(1, 1, 1)
                esp.HealthText.Position = Vector2.new(barX + barWidth / 2, barY - 10)
                esp.HealthText.Text = math.floor(humanoid.Health) .. "/" .. math.floor(humanoid.MaxHealth)
            end
            
            -- æ¸…ç†ä¸å­˜åœ¨çš„ç©å®¶ESP
            for plr, esp in pairs(espCache) do
                if not plr or not plr.Parent or plr == LocalPlayer then
                    for _, obj in pairs(esp) do
                        obj.Visible = false
                        obj:Remove()
                    end
                    espCache[plr] = nil
                end
            end
        end
        
        -- å¯åŠ¨ESPå¾ªç¯
        local espLoop
        Tab4:AddToggle({
            Name = "å¢å¼ºç©å®¶ ESP", 
            Default = false, 
            Callback = function(v)
                espEnabled = v
                if v then
                    if not espLoop then
                        espLoop = game:GetService("RunService").RenderStepped:Connect(updateESP)
                    end
                else
                    if espLoop then
                        espLoop:Disconnect()
                        espLoop = nil
                    end
                    -- æ¸…ç†ç¼“å­˜
                    for plr, esp in pairs(espCache) do
                        for _, obj in pairs(esp) do
                            pcall(function() obj:Remove() end)
                        end
                    end
                    table.clear(espCache)
                end
            end
        })
        
        -----------------------------------------------------------------
        -- â‘¨ NPC é€è§†ï¼ˆå¢å¼ºç‰ˆï¼‰
        -----------------------------------------------------------------
        local npcEspEnabled = false
        local npcEspCache = {}
        
        -- åˆ›å»ºNPC ESPå¯¹è±¡
        local function createNpcESPObject(model)
            local esp = {
                Box = Drawing.new("Quad"),
                Name = Drawing.new("Text"),
                Distance = Drawing.new("Text")
            }
            
            -- è®¾ç½®åˆå§‹å±æ€§
            esp.Box.Thickness = 1.5
            esp.Box.Filled = false
            esp.Box.Color = Color3.fromRGB(255, 165, 0)
            esp.Box.ZIndex = 4
            
            esp.Name.Size = 16
            esp.Name.Center = true
            esp.Name.Outline = true
            esp.Name.Color = Color3.fromRGB(255, 165, 0)
            esp.Name.ZIndex = 4
            
            esp.Distance.Size = 14
            esp.Distance.Center = true
            esp.Distance.Outline = true
            esp.Distance.Color = Color3.fromRGB(255, 165, 0)
            esp.Distance.ZIndex = 4
            
            npcEspCache[model] = esp
            return esp
        end
        
        -- æ›´æ–°NPC ESP
        local function updateNpcESP()
            if not npcEspEnabled then return end
            
            for _, model in ipairs(workspace:GetDescendants()) do
                if model:IsA("Model") and model:FindFirstChildOfClass("Humanoid") and not Players:GetPlayerFromCharacter(model) then
                    local root = model:FindFirstChild("HumanoidRootPart") or model:FindFirstChild("Torso")
                    local head = model:FindFirstChild("Head")
                    
                    if not (root and head) then
                        if npcEspCache[model] then
                            for _, obj in pairs(npcEspCache[model]) do
                                obj.Visible = false
                            end
                        end
                        continue
                    end
                    
                    -- è·å–å±å¹•ä½ç½®
                    local rootPos, rootVis = Camera:WorldToViewportPoint(root.Position)
                    local headPos, headVis = Camera:WorldToViewportPoint(head.Position + Vector3.new(0, 1.5, 0))
                    
                    if not (rootVis and headVis) then
                        if npcEspCache[model] then
                            for _, obj in pairs(npcEspCache[model]) do
                                obj.Visible = false
                            end
                        end
                        continue
                    end
                    
                    -- åˆ›å»ºæˆ–è·å–NPC ESPå¯¹è±¡
                    local esp = npcEspCache[model] or createNpcESPObject(model)
                    
                    -- è®¡ç®—å°ºå¯¸
                    local height = math.abs(headPos.Y - rootPos.Y) * 1.5
                    local width = height * 0.6
                    local left = headPos.X - width / 2
                    local right = headPos.X + width / 2
                    
                    -- æ›´æ–°æ–¹æ¡†
                    esp.Box.Visible = true
                    esp.Box.PointA = Vector2.new(left, headPos.Y)
                    esp.Box.PointB = Vector2.new(right, headPos.Y)
                    esp.Box.PointC = Vector2.new(right, headPos.Y + height)
                    esp.Box.PointD = Vector2.new(left, headPos.Y + height)
                    
                    -- æ›´æ–°åå­—
                    esp.Name.Visible = true
                    esp.Name.Position = Vector2.new(headPos.X, headPos.Y - 15)
                    esp.Name.Text = model.Name
                    
                    -- æ›´æ–°è·ç¦»
                    local distance = math.floor((root.Position - Camera.CFrame.Position).Magnitude)
                    esp.Distance.Visible = true
                    esp.Distance.Position = Vector2.new(headPos.X, headPos.Y + height + 5)
                    esp.Distance.Text = tostring(distance) .. "m"
                end
            end
            
            -- æ¸…ç†ä¸å­˜åœ¨çš„NPC ESP
            for model, esp in pairs(npcEspCache) do
                if not model or not model.Parent then
                    for _, obj in pairs(esp) do
                        obj.Visible = false
                        obj:Remove()
                    end
                    npcEspCache[model] = nil
                end
            end
        end
        
        -- å¯åŠ¨NPC ESPå¾ªç¯
        local npcEspLoop
        Tab4:AddToggle({
            Name = "å¢å¼ºNPCé€è§†", 
            Default = false, 
            Callback = function(v)
                npcEspEnabled = v
                if v then
                    if not npcEspLoop then
                        npcEspLoop = game:GetService("RunService").RenderStepped:Connect(updateNpcESP)
                    end
                else
                    if npcEspLoop then
                        npcEspLoop:Disconnect()
                        npcEspLoop = nil
                    end
                    -- æ¸…ç†ç¼“å­˜
                    for model, esp in pairs(npcEspCache) do
                        for _, obj in pairs(esp) do
                            pcall(function() obj:Remove() end)
                        end
                    end
                    table.clear(npcEspCache)
                end
            end
        })
        
        -----------------------------------------------------------------
        -- â‘© ä¸‰é”å®šï¼šç§»é€Ÿ / è·³è·ƒ / é‡åŠ›
        -----------------------------------------------------------------
        local lockSpeed, lockJump, lockGrav = false, false, false
        local savedSpeed, savedJump, savedGrav = 16, 50, 196
        
        local function applyValues()
            local char = LocalPlayer.Character
            if not char then return end
            
            local hum = char:FindFirstChildOfClass("Humanoid")
            if not hum then return end
            
            if lockSpeed then hum.WalkSpeed = savedSpeed end
            if lockJump then hum.JumpPower = savedJump end
            if lockGrav then workspace.Gravity = savedGrav end
        end
        
        LocalPlayer.CharacterAdded:Connect(function()
            task.wait(0.5)
            applyValues()
        end)
        
        -- è¾“å…¥æ¡† + å¼€å…³
        local lockSec = Tab4:AddSection({Name = "ä¸‰é”å®š"})
        lockSec:AddTextbox({
            Name = "è®¾å®šç§»é€Ÿï¼ˆä»…ä¿å­˜å€¼ï¼‰", 
            Default = tostring(savedSpeed), 
            Callback = function(txt) 
                savedSpeed = tonumber(txt) or 16 
                applyValues()
            end
        })
        lockSec:AddTextbox({
            Name = "è®¾å®šè·³è·ƒé«˜åº¦ï¼ˆä»…ä¿å­˜å€¼ï¼‰", 
            Default = tostring(savedJump), 
            Callback = function(txt) 
                savedJump = tonumber(txt) or 50 
                applyValues()
            end
        })
        lockSec:AddTextbox({
            Name = "è®¾å®šé‡åŠ›å€¼ï¼ˆä»…ä¿å­˜å€¼ï¼‰", 
            Default = tostring(savedGrav), 
            Callback = function(txt) 
                savedGrav = tonumber(txt) or 196 
                applyValues()
            end
        })
        
        lockSec:AddToggle({
            Name = "é”å®šç§»é€Ÿ", 
            Default = false, 
            Callback = function(v) 
                lockSpeed = v
                applyValues()
            end
        })
        lockSec:AddToggle({
            Name = "é”å®šè·³è·ƒ", 
            Default = false, 
            Callback = function(v) 
                lockJump = v
                applyValues()
            end
        })
        lockSec:AddToggle({
            Name = "é”å®šé‡åŠ›", 
            Default = false, 
            Callback = function(v) 
                lockGrav = v
                applyValues()
            end
        })
        
--æ§åˆ¶å° Tap
    local Tab2 = Window:MakeTab({Name = "æ§åˆ¶å°", Icon = "rbxassetid://7733779610"})
    Tab2:AddButton({Name = "æ§åˆ¶å°", Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/yxgh165/yxgh165/blob/main/666"))()
    end})
    
    -- XAè„šæœ¬ Tab
    local Tab3 = Window:MakeTab({Name = "XAè„šæœ¬", Icon = "rbxassetid://7733779610"})
    Tab3:AddButton({Name = "XA HUB", Callback = function()
        loadstring(game:HttpGet("https://xingtaiduan.pythonanywhere.com/Loader"))()
    end})
    
    --RBè„šæœ¬ä¸­å¿ƒ Tap
    local Tab4 = Window:MakeTab({Name = "RBè„šæœ¬", Icon = "rbxassetid://7733779610"})
    Tab4:AddButton({Name = "Rbè„šæœ¬", Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Yungengxin/roblox/refs/heads/main/Rb-Hub"))()
    end})
    
    -- ç”Ÿå­˜ä¸æ€æ‰‹ Tab
    local Tab5 = Window:MakeTab({Name = "ç”Ÿå­˜ä¸æ€æ‰‹", Icon = "rbxassetid://7733779610"})
    Tab5:AddButton({Name = "ç”Ÿå­˜ä¸æ€æ‰‹", Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Milan08Studio/ChairWare/main/main.lua"))()
    end})
    
    --çˆ±å¾·å
    local Tab6 = Window:MakeTab({Name = "çˆ±å¾·å", Icon = "rbxassetid://7733779610"})
    Tab6:AddButton({Name = "çˆ±å¾·å", Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/gumanba/Scripts/main/Edward"))()
    end})
    
    --æ´»äº†7å¤©
    local Tab7 = Window:MakeTab({Name = "æ´»äº†7å¤©", Icon = "rbxassetid://7733779610"})
    Tab7:AddButton({Name = "æ´»äº†7å¤©", Callback = function()
        loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-7-days-to-live-36824"))()
    end})
    
    --æ­»é“è½¨
    local Tab8 = Window:MakeTab({Name = "æ­»é“è½¨", Icon = "rbxassetid://7733979610"})
    Tab8:AddButton({Name = "æ­»é“è½¨", Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/iopjklbnmsss/SansHubScript/refs/heads/main/SansHub"))()
    end})

    --ä¸€è·¯å‘è¥¿åˆ·é’±
    local Tab9 = Window:MakeTab({Name = "ä¸€è·¯å‘è¥¿", Icon = "rbxassetid://7733979610"})
    Tab9:AddButton({Name = "ä¸€è·¯å‘è¥¿åˆ·é’±", Callback = function()
        --by ä¹‹å‰é£
--QQï¼š2207654215

loadstring(game:HttpGet("https://raw.githubusercontent.com/123hubd7gh/123hubd7gh/refs/heads/main/%E4%B8%80%E8%B7%AF%E5%90%91%E8%A5%BF%20%E8%B5%9A%E9%92%B1"))()
    end})
        
--é€ ä¸€æ¶é£æœºåˆ·é’±
    local Tab10 = Window:MakeTab({Name = "é€ ä¸€æ¶é£æœº", Icon = "rbxassetid://7733979610"})
    Tab10:AddButton({Name = "é€ ä¸€æ¶é£æœºåˆ·é’±", Callback = function()
        --by ä¹‹å‰é£
--QQç¾¤ï¼š1020328947

loadstring(game:HttpGet("https://raw.githubusercontent.com/123hubd7gh/123hubd7gh/refs/heads/main/%E5%BB%BA%E9%80%A0%E4%B8%80%E6%9E%B6%E9%A3%9E%E6%9C%BA%20%E8%87%AA%E5%8A%A8%E5%88%B7%E9%92%B1"))()
    end})

        -- è®¾ç½®Tab - å¡å¯†ç®¡ç†
        local SettingsTab = Window:MakeTab({Name = "è®¾ç½®", Icon = "rbxassetid://7733779610"})
        SettingsTab:AddButton({
            Name = "æ¸…é™¤å¡å¯†",
            Callback = function()
                if isfile and isfile(KeySystem.KeyFile) then
                    delfile(KeySystem.KeyFile)
                    OrionLib:MakeNotification({
                        Name = "æˆåŠŸ",
                        Content = "å¡å¯†å·²æ¸…é™¤ï¼Œè¯·é‡æ–°éªŒè¯",
                        Time = 3
                    })
                    Window:Destroy()
                    wait(1)
                    ShowKeyWindow()
                end
            end
        })
        
        SettingsTab:AddLabel("å¡å¯†çŠ¶æ€: " .. (KeySystem.CurrentKey and "å·²éªŒè¯" or "æœªéªŒè¯"))
        SettingsTab:AddLabel("å½“å‰å¡å¯†: " .. (KeySystem.CurrentKey or "æ— "))
        
        -- æ·»åŠ ä¸€é”®å¤åˆ¶å¡å¯†æŒ‰é’®
        SettingsTab:AddButton({
            Name = "ä¸€é”®å¤åˆ¶å½“å‰å¡å¯†",
            Callback = function()
                if KeySystem.CurrentKey and KeySystem.CurrentKey ~= "" then
                    local success = CopyToClipboard(KeySystem.CurrentKey)
                    ShowCopyNotification(success, KeySystem.CurrentKey)
                else
                    OrionLib:MakeNotification({
                        Name = "å¤åˆ¶å¤±è´¥",
                        Content = "å½“å‰æ²¡æœ‰å¡å¯†å¯å¤åˆ¶",
                        Time = 3
                    })
                end
            end
        })
        
        -- æ·»åŠ ä¸€é”®å¤åˆ¶Discordé“¾æ¥æŒ‰é’®
        SettingsTab:AddButton({
            Name = "ä¸€é”®å¤åˆ¶Discordé“¾æ¥",
            Callback = function()
                local discordLink = "https://discord.gg/xVUf7H9M"
                local success = CopyToClipboard(discordLink)
                ShowCopyNotification(success, discordLink)
            end
        })
        
        -- å¯åŠ¨
        OrionLib:Init()
    end
    
    -- ä¸»é€»è¾‘ï¼šæ£€æŸ¥æ˜¯å¦æœ‰å·²éªŒè¯çš„å¡å¯†
    local savedKey = LoadKey()
    if savedKey and VerifyKey(savedKey) then
        KeySystem.CurrentKey = savedKey
        KeySystem.IsVerified = true
        
        -- åˆ›å»ºå¤å¤å¤§å¸è„šæœ¬åŠ¨ç”»
        CreateKunKunAnimation()
        
        -- å»¶è¿Ÿåæ˜¾ç¤ºä¸»çª—å£
        wait(2.5)
        ShowMainWindow()
    else
        -- æ¸…é™¤æ— æ•ˆçš„å·²ä¿å­˜å¡å¯†
        if isfile and isfile(KeySystem.KeyFile) then
            delfile(KeySystem.KeyFile)
        end
        ShowKeyWindow()
    end
    
    -- å¿è€…æ³¨å…¥å™¨å…¼å®¹æ€§æ£€æŸ¥
    if identifyexecutor and identifyexecutor():lower():find("ninja") then
        OrionLib:MakeNotification({
            Name = "æ³¨å…¥å™¨æ£€æµ‹",
            Content = "å¿è€…æ³¨å…¥å™¨å·²è¯†åˆ«ï¼Œå¡å¯†ç³»ç»Ÿå·²é€‚é…",
            Time = 3
        })
    end
    
    -- æ·»åŠ å¡å¯†ç®¡ç†å‘½ä»¤ï¼ˆå¯é€‰ï¼‰
    getgenv().SetKey = function(key)
        if VerifyKey(key) then
            KeySystem.CurrentKey = key
            KeySystem.IsVerified = true
            SaveKey(key)
            OrionLib:MakeNotification({
                Name = "æˆåŠŸ",
                Content = "å¡å¯†å·²é€šè¿‡å‘½ä»¤è®¾ç½®",
                Time = 2
            })
        else
            OrionLib:MakeNotification({
                Name = "å¤±è´¥",
                Content = "æ— æ•ˆçš„å¡å¯†",
                Time = 2
            })
        end
    end
    
    getgenv().ClearKey = function()
        if isfile and isfile(KeySystem.KeyFile) then
            delfile(KeySystem.KeyFile)
            KeySystem.IsVerified = false
            OrionLib:MakeNotification({
                Name = "æˆåŠŸ",
                Content = "å¡å¯†å·²æ¸…é™¤",
                Time = 2
            })
        end
    end
end)()