function()
-- â‘  å¼ºåˆ¶ 200Ã—200 å±…ä¸­çª—å£
getgenv().WindowSize = UDim2.new(0, 200, 0, 200)

-- ä¿®å¤ï¼šä½¿ç”¨æœ‰æ•ˆçš„OrionLibé“¾æ¥
local OrionLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/shlexware/Orion/main/source"))()

-- çº¯é»‘ä¸»é¢˜
OrionLib.Themes.Default = {
    Main    = Color3.fromRGB(20,20,20),
    Second  = Color3.fromRGB(30,30,30),
    Stroke  = Color3.fromRGB(50,50,50),
    Divider = Color3.fromRGB(40,40,40),
    Text    = Color3.fromRGB(255,255,255),
    TextDark= Color3.fromRGB(200,200,200)
}
OrionLib.SelectedTheme = "Default"

-- ä¸»çª—å£
local Window = OrionLib:MakeWindow({
    IntroText = "å¤å¤å¤§å¸è„šæœ¬",
    Name = "å¤å¤å¤§å¸è„šæœ¬ - " .. identifyexecutor(),
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "StitchConfig"
})

-- å…¬å‘Š Tab
local Tab1 = Window:MakeTab({Name = "å…¬å‘Š", Icon = "rbxassetid://7733779610"})
local function getDate() return os.date("%Y-%m-%d %H:%M") end
local function getPlayer()
    local p = game.Players.LocalPlayer
    return {
        ["ç”¨æˆ·å"]   = p.Name,
        ["æ˜¾ç¤ºå"]   = p.DisplayName,
        ["ç”¨æˆ·ID"]   = p.UserId,
        ["æ³¨å†Œå¤©æ•°"] = p.AccountAge,
        ["å½“å‰æ¸¸æˆ"] = game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name
    }
end
Tab1:AddLabel("ğŸ“… å½“å‰æ—¶é—´")
Tab1:AddLabel(getDate())
for k, v in pairs(getPlayer()) do
    Tab1:AddLabel(k .. "ï¼š " .. tostring(v))
end
Tab1:AddButton({Name = "æ‰“å° QQå·", Callback = function() print("913348285") end
})

-- ç¡®ä¿ä½ å‰é¢æœ‰è¿™è¡Œï¼ˆæ”¾åœ¨ OrionLib åˆå§‹åŒ–åï¼‰
local Tab4 = Window:MakeTab({Name = "äººç‰©åŠŸèƒ½", Icon = "rbxassetid://7733779610"})

-- å…¼å®¹ executor æ²¡æœ‰ mouse1press / mouse1release
local mouse1press  = mouse1press  or function()
    local vim = game:GetService("VirtualInputManager")
    vim:SendMouseButtonEvent(0,0,0,true,game,1)
end
local mouse1release = mouse1release or function()
    local vim = game:GetService("VirtualInputManager")
    vim:SendMouseButtonEvent(0,0,0,false,game,1)
end

-----------------------------------------------------------------
-- â‘¤ å‡çº§ç‰ˆ AI-Aimbot ç³»ç»Ÿ
-----------------------------------------------------------------
-- å¢å¼ºå‚æ•°
local aimbotEnabled      = false
local aimbotMode         = "æ™ºèƒ½æ¨¡å¼"  -- æ–°å¢æ¨¡å¼é€‰æ‹©
local aimbotSmooth       = 0.35
local aimbotBone         = "Head"
local aimbotPrediction   = 0.12
local aimbotDelay        = 0.08
local aimbotCheckTeam    = true
local aimbotMaxDistance  = 1000        -- æ–°å¢æœ€å¤§è·ç¦»
local aimbotAutoFire     = true        -- æ–°å¢è‡ªåŠ¨å¼€ç«
local aimbotLockTarget   = false       -- æ–°å¢ç›®æ ‡é”å®š
local aimbotAntiDetect   = true        -- æ–°å¢åæ£€æµ‹
local lastFire = 0
local aimbotConn
local lockedTarget = nil               -- é”å®šç›®æ ‡

-- ç¼ºå¤±å˜é‡ä¸€æ¬¡æ€§è¡¥å…¨
local Camera = workspace.CurrentCamera
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

-- é«˜çº§FOVç³»ç»Ÿ
local mouseFOV      = 120
local fixedFOV      = 90
local fovColorEnabled = true           -- FOVé¢œè‰²åé¦ˆ
local targetInFOV = false              -- ç›®æ ‡åœ¨FOVå†…

-- åˆ›å»ºFOVå›¾å½¢
local mouseFovCircle = Drawing.new("Circle")
mouseFovCircle.NumSides  = 64
mouseFovCircle.Radius    = mouseFOV
mouseFovCircle.Thickness = 1.5
mouseFovCircle.Color     = Color3.fromRGB(255,255,255)
mouseFovCircle.Filled    = false
mouseFovCircle.Visible   = false

local fixedFovCircle = Drawing.new("Circle")
fixedFovCircle.NumSides  = 64
fixedFovCircle.Radius    = fixedFOV
fixedFovCircle.Thickness = 1.5
fixedFovCircle.Color     = Color3.fromRGB(255,165,0)
fixedFovCircle.Filled    = false
fixedFovCircle.Visible   = false

-- ç›®æ ‡æŒ‡ç¤ºå™¨
local targetIndicator = Drawing.new("Circle")
targetIndicator.NumSides  = 6
targetIndicator.Radius    = 8
targetIndicator.Thickness = 2
targetIndicator.Color     = Color3.fromRGB(255,0,0)
targetIndicator.Filled    = true
targetIndicator.Visible   = false

-- å›ºå®šåœ†ä¸­å¿ƒä¸€æ¬¡è®¾ç½®
local function setFixedCenter()
    local center = Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y/2)
    fixedFovCircle.Position = center
    targetIndicator.Position = center
end
Camera:GetPropertyChangedSignal("ViewportSize"):Connect(setFixedCenter)
setFixedCenter()

-- é«˜çº§ç›®æ ‡è¯„ä¼°ç³»ç»Ÿ
local function evaluateTarget(plr)
    if plr == game.Players.LocalPlayer then return 0 end
    if aimbotCheckTeam and plr.Team and plr.Team == game.Players.LocalPlayer.Team then return 0 end
    
    local char = plr.Character
    if not char then return 0 end
    
    local root = char:FindFirstChild("HumanoidRootPart")
    local bone = char:FindFirstChild(aimbotBone) or char:FindFirstChild("Head")
    if not (root and bone) then return 0 end
    
    -- è®¡ç®—è·ç¦»
    local distance = (root.Position - Camera.CFrame.Position).Magnitude
    if distance > aimbotMaxDistance then return 0 end
    
    -- è®¡ç®—å¯è§æ€§åˆ†æ•°
    local ray = Ray.new(Camera.CFrame.Position, (bone.Position - Camera.CFrame.Position).Unit * distance)
    local part = workspace:FindPartOnRayWithIgnoreList(ray, {game.Players.LocalPlayer.Character})
    local visibilityScore = not part or part:IsDescendantOf(char) and 1 or 0.3
    
    -- è®¡ç®—FOVåˆ†æ•°
    local screenPos = Camera:WorldToViewportPoint(bone.Position)
    local fixedDist = (Vector2.new(screenPos.X, screenPos.Y) - fixedFovCircle.Position).Magnitude
    local mouseDist = (Vector2.new(screenPos.X, screenPos.Y) - UserInputService:GetMouseLocation()).Magnitude
    local fovScore = math.max(0, 1 - math.min(fixedDist/fixedFOV, mouseDist/mouseFOV))
    
    -- è®¡ç®—å¥åº·åˆ†æ•°
    local humanoid = char:FindFirstChild("Humanoid")
    local healthScore = humanoid and (humanoid.Health / humanoid.MaxHealth) or 1
    
    -- ç»¼åˆè¯„åˆ† (è·ç¦»æƒé‡40%, FOVæƒé‡40%, å¥åº·æƒé‡20%)
    local distanceScore = 1 - (distance / aimbotMaxDistance)
    return (distanceScore * 0.4 + fovScore * 0.4 + healthScore * 0.2) * visibilityScore
end

-- è·å–æœ€ä½³ç›®æ ‡
local function getBestTarget()
    local bestTarget, bestScore = nil, 0
    
    for _, plr in ipairs(game.Players:GetPlayers()) do
        local score = evaluateTarget(plr)
        if score > bestScore then
            bestScore = score
            bestTarget = plr
        end
    end
    
    return bestTarget
end

-- è‡ªé€‚åº”é¢„æµ‹ç®—æ³•
local function adaptivePrediction(root)
    local velocity = root.Velocity.Magnitude
    local basePrediction = aimbotPrediction
    
    -- æ ¹æ®é€Ÿåº¦åŠ¨æ€è°ƒæ•´é¢„æµ‹
    if velocity > 50 then
        return basePrediction * (velocity / 30)
    end
    
    return basePrediction
end

-- é«˜çº§ç„å‡†ä½ç½®è®¡ç®—
local function getAdvancedAimPos(character)
    if not character then return nil end
    local root = character:FindFirstChild("HumanoidRootPart")
    local bone = character:FindFirstChild(aimbotBone) or character:FindFirstChild("Head")
    if not (root and bone) then return nil end
    
    local vel = root.Velocity
    local prediction = adaptivePrediction(root)
    
    -- æ™ºèƒ½æ¨¡å¼ä½¿ç”¨æ›´å¤æ‚çš„é¢„æµ‹
    if aimbotMode == "æ™ºèƒ½æ¨¡å¼" then
        -- è€ƒè™‘åŠ é€Ÿåº¦
        local lastVel = root:GetAttribute("LastVelocity") or vel
        root:SetAttribute("LastVelocity", vel)
        local accel = (vel - lastVel).Magnitude
        prediction = prediction * (1 + accel / 100)
        
        -- é¢„æµ‹ç§»åŠ¨æ–¹å‘
        local moveDir = root.CFrame.LookVector
        if vel.Magnitude > 5 then
            moveDir = vel.Unit
        end
        
        return bone.Position + moveDir * (vel.Magnitude * prediction)
    end
    
    -- ç»å…¸æ¨¡å¼ä½¿ç”¨ç®€å•é¢„æµ‹
    return bone.Position + vel * prediction
end

-- é«˜çº§ç„å‡†é€»è¾‘
local function advancedAim(target)
    if not target or not target.Character then return end
    
    local aimPos = getAdvancedAimPos(target.Character)
    if not aimPos then return end
    
    -- æ›´æ–°ç›®æ ‡æŒ‡ç¤ºå™¨
    local screenPos = Camera:WorldToViewportPoint(aimPos)
    if screenPos.Z > 0 then
        targetIndicator.Position = Vector2.new(screenPos.X, screenPos.Y)
        targetIndicator.Visible = true
        targetInFOV = true
    else
        targetIndicator.Visible = false
        targetInFOV = false
    end
    
    -- æ›´æ–°FOVé¢œè‰²åé¦ˆ
    if fovColorEnabled then
        mouseFovCircle.Color = targetInFOV and Color3.fromRGB(0,255,0) or Color3.fromRGB(255,255,255)
        fixedFovCircle.Color = targetInFOV and Color3.fromRGB(0,200,0) or Color3.fromRGB(255,165,0)
    end
    
    -- è®¡ç®—ç„å‡†æ–¹å‘
    local delta = aimPos - Camera.CFrame.Position
    if delta.Magnitude < 0.1 then return end
    
    local targetCF = CFrame.new(Camera.CFrame.Position, Camera.CFrame.Position + delta.Unit)
    local maxAngle = math.rad(90)
    local angle = math.acos(math.clamp(Camera.CFrame.LookVector:Dot(targetCF.LookVector), -1, 1))
    
    if angle <= maxAngle then
        -- æ·»åŠ éšæœºåç§»åæ£€æµ‹
        local randomOffset = Vector3.new()
        if aimbotAntiDetect then
            local rand = Random.new()
            randomOffset = Vector3.new(
                rand:NextNumber(-0.5, 0.5),
                rand:NextNumber(-0.5, 0.5),
                rand:NextNumber(-0.5, 0.5)
            ) * (1 - aimbotSmooth)
        end
        
        -- åº”ç”¨ç„å‡†
        local finalCF = targetCF * CFrame.new(randomOffset)
        Camera.CFrame = Camera.CFrame:Lerp(finalCF, 1 - math.clamp(aimbotSmooth, 0.01, 0.99))
    end
end

-- å¼€ç«æ§åˆ¶
local function fireControl()
    if not aimbotAutoFire then return end
    if tick() - lastFire > aimbotDelay then
        if aimbotAntiDetect then
            -- éšæœºåŒ–å¼€ç«å»¶è¿Ÿ
            local randDelay = Random.new():NextNumber(0.8, 1.2) * aimbotDelay
            if tick() - lastFire > randDelay then
                mouse1press()
                task.wait(Random.new():NextNumber(0.01, 0.05))
                mouse1release()
                lastFire = tick()
            end
        else
            mouse1press()
            task.wait(0.02)
            mouse1release()
            lastFire = tick()
        end
    end
end

-- ä¸»å¾ªç¯ï¼ˆä¼˜åŒ–ç‰ˆï¼‰
local function startAimbot()
    if aimbotConn then return end
    
    aimbotConn = RunService.RenderStepped:Connect(function()
        if not aimbotEnabled then return end
        
        -- æ›´æ–°è·Ÿéšåœ†
        mouseFovCircle.Position = UserInputService:GetMouseLocation()
        
        -- ç›®æ ‡é€‰æ‹©
        local target
        if aimbotLockTarget and lockedTarget and lockedTarget.Character then
            target = lockedTarget
        else
            target = getBestTarget()
            lockedTarget = target
        end
        
        -- é«˜çº§ç„å‡†
        if target then
            advancedAim(target)
            fireControl()
        else
            targetIndicator.Visible = false
            targetInFOV = false
            
            -- é‡ç½®FOVé¢œè‰²
            if fovColorEnabled then
                mouseFovCircle.Color = Color3.fromRGB(255,255,255)
                fixedFovCircle.Color = Color3.fromRGB(255,165,0)
            end
        end
    end)
end

local function stopAimbot()
    if aimbotConn then 
        aimbotConn:Disconnect() 
        aimbotConn = nil 
    end
    mouseFovCircle.Visible = false
    fixedFovCircle.Visible = false
    targetIndicator.Visible = false
    lockedTarget = nil
end

-----------------------------------------------------------------
-- UI æ„å»ºï¼ˆå‡çº§ç‰ˆï¼‰
-----------------------------------------------------------------
local aimbotSec = Tab4:AddSection({Name = "é«˜çº§ AI-Aimbot"})

-- åŸºæœ¬å¼€å…³
aimbotSec:AddToggle({
    Name = "å¯ç”¨ Aimbot",
    Default = false,
    Callback = function(v)
        aimbotEnabled = v
        if v then 
            startAimbot() 
        else 
            stopAimbot() 
        end
    end
})

-- æ¨¡å¼é€‰æ‹©
aimbotSec:AddDropdown({
    Name = "ç„å‡†æ¨¡å¼",
    Default = "æ™ºèƒ½æ¨¡å¼",
    Options = {"æ™ºèƒ½æ¨¡å¼", "ç»å…¸æ¨¡å¼", "ç‹™å‡»æ¨¡å¼"},
    Callback = function(v)
        aimbotMode = v
        -- æ ¹æ®ä¸åŒæ¨¡å¼è°ƒæ•´å‚æ•°
        if v == "ç‹™å‡»æ¨¡å¼" then
            aimbotSmooth = 0.15
            aimbotPrediction = 0.18
            aimbotDelay = 0.15
        elseif v == "ç»å…¸æ¨¡å¼" then
            aimbotSmooth = 0.35
            aimbotPrediction = 0.12
            aimbotDelay = 0.08
        end
    end
})

aimbotSec:AddToggle({
    Name = "ä»…ç„å‡†æ•Œäºº",
    Default = aimbotCheckTeam,
    Callback = function(v) 
        aimbotCheckTeam = v 
    end
})

aimbotSec:AddToggle({
    Name = "è‡ªåŠ¨å¼€ç«",
    Default = aimbotAutoFire,
    Callback = function(v) 
        aimbotAutoFire = v 
    end
})

aimbotSec:AddToggle({
    Name = "é”å®šç›®æ ‡",
    Default = aimbotLockTarget,
    Callback = function(v) 
        aimbotLockTarget = v 
        if not v then lockedTarget = nil end
    end
})

aimbotSec:AddToggle({
    Name = "åæ£€æµ‹",
    Default = aimbotAntiDetect,
    Callback = function(v) 
        aimbotAntiDetect = v 
    end
})

aimbotSec:AddToggle({
    Name = "FOVé¢œè‰²åé¦ˆ",
    Default = fovColorEnabled,
    Callback = function(v) 
        fovColorEnabled = v 
    end
})

-- è·ç¦»è®¾ç½®
local distanceSlider = aimbotSec:AddSlider({
    Name = "æœ€å¤§è·ç¦»",
    Min = 50,
    Max = 2000,
    Default = aimbotMaxDistance,
    Increment = 10,
    Callback = function(v) 
        aimbotMaxDistance = v 
    end
})
aimbotSec:AddTextbox({
    Name = "æœ€å¤§è·ç¦»ï¼ˆè¾“å…¥ï¼‰",
    Default = tostring(aimbotMaxDistance),
    Callback = function(txt) 
        local n = tonumber(txt) 
        if n then 
            aimbotMaxDistance = n
            distanceSlider:Set(n) 
        end 
    end
})

-- FOVè®¾ç½®
local fovSec = Tab4:AddSection({Name = "FOV è®¾ç½®"})

local mouseTog = fovSec:AddToggle({ 
    Name = "æ˜¾ç¤ºè·ŸéšFOV", 
    Default = false, 
    Callback = function(v) 
        mouseFovCircle.Visible = v 
    end 
})

local mouseSlider = fovSec:AddSlider({ 
    Name = "åŠå¾„ï¼ˆæ»‘æ¡ï¼‰", 
    Min = 0, 
    Max = 500, 
    Default = mouseFOV, 
    Increment = 5, 
    Callback = function(v) 
        mouseFOV = v
        mouseFovCircle.Radius = v 
    end 
})

fovSec:AddTextbox({ 
    Name = "åŠå¾„ï¼ˆè¾“å…¥ï¼‰", 
    Default = tostring(mouseFOV), 
    Callback = function(txt) 
        local n = tonumber(txt) 
        if n then 
            mouseFOV = n
            mouseFovCircle.Radius = n
            mouseSlider:Set(n) 
        end 
    end 
})

local fixedTog = fovSec:AddToggle({ 
    Name = "æ˜¾ç¤ºå›ºå®šFOV", 
    Default = false, 
    Callback = function(v) 
        fixedFovCircle.Visible = v 
    end 
})

local fixedSlider = fovSec:AddSlider({ 
    Name = "åŠå¾„ï¼ˆæ»‘æ¡ï¼‰", 
    Min = 0, 
    Max = 500, 
    Default = fixedFOV, 
    Increment = 5, 
    Callback = function(v) 
        fixedFOV = v
        fixedFovCircle.Radius = v 
    end 
})

fovSec:AddTextbox({ 
    Name = "åŠå¾„ï¼ˆè¾“å…¥ï¼‰", 
    Default = tostring(fixedFOV), 
    Callback = function(txt) 
        local n = tonumber(txt) 
        if n then 
            fixedFOV = n
            fixedFovCircle.Radius = n
            fixedSlider:Set(n) 
        end 
    end 
})

-- é«˜çº§å‚æ•°
local advSec = Tab4:AddSection({Name = "é«˜çº§å‚æ•°"})

local smoothSlider = advSec:AddSlider({ 
    Name = "å¹³æ»‘ç³»æ•°", 
    Min = 0.01, 
    Max = 1, 
    Default = aimbotSmooth, 
    Increment = 0.01, 
    Callback = function(v) 
        aimbotSmooth = v 
    end 
})

-- ä¿®å¤ï¼šåˆ é™¤å¤šä½™çš„ '+' ç¬¦å·
advSec:AddTextbox({ 
    Name = "å¹³æ»‘ç³»æ•°ï¼ˆè¾“å…¥ï¼‰", 
    Default = tostring(aimbotSmooth), 
    Callback = function(txt) 
        local n = tonumber(txt) 
        if n then 
            aimbotSmooth = n
            smoothSlider:Set(n) 
        end 
    end 
})

local predSlider = advSec:AddSlider({ 
    Name = "é¢„æµ‹æ—¶é—´", 
    Min = 0, 
    Max = 0.5, 
    Default = aimbotPrediction, 
    Increment = 0.01, 
    Callback = function(v) 
        aimbotPrediction = v 
    end 
})

advSec:AddTextbox({ 
    Name = "é¢„æµ‹æ—¶é—´ï¼ˆè¾“å…¥ï¼‰", 
    Default = tostring(aimbotPrediction), 
    Callback = function(txt) 
        local n = tonumber(txt) 
        if n then 
            aimbotPrediction = n
            predSlider:Set(n) 
        end 
    end 
})

local delaySlider = advSec:AddSlider({ 
    Name = "å¼€ç«å»¶è¿Ÿ", 
    Min = 0, 
    Max = 0.5, 
    Default = aimbotDelay, 
    Increment = 0.01, 
    Callback = function(v) 
        aimbotDelay = v 
    end 
})

advSec:AddTextbox({ 
    Name = "å¼€ç«å»¶è¿Ÿï¼ˆè¾“å…¥ï¼‰", 
    Default = tostring(aimbotDelay), 
    Callback = function(txt) 
        local n = tonumber(txt) 
        if n then 
            aimbotDelay = n
            delaySlider:Set(n) 
        end 
    end 
})

advSec:AddDropdown({ 
    Name = "ç„å‡†éª¨éª¼", 
    Default = aimbotBone, 
    Options = {"Head", "UpperTorso", "HumanoidRootPart", "LowerTorso"},
    Callback = function(v) 
        aimbotBone = v 
    end 
})

-- ç›®æ ‡æŒ‡ç¤ºå™¨è®¾ç½®
advSec:AddToggle({
    Name = "æ˜¾ç¤ºç›®æ ‡æŒ‡ç¤ºå™¨",
    Default = true,
    Callback = function(v)
        targetIndicator.Visible = v and targetInFOV
    end
})

advSec:AddColorpicker({
    Name = "æŒ‡ç¤ºå™¨é¢œè‰²",
    Default = Color3.fromRGB(255, 0, 0),
    Callback = function(v)
        targetIndicator.Color = v
    end
})

-----------------------------------------------------------------
-- â‘¥ åˆ é™¤é˜´å½±ï¼ˆå…¨å±€å¼€å…³ï¼‰
-----------------------------------------------------------------
Tab4:AddToggle({
    Name = "åˆ é™¤é˜´å½±",
    Default = false,
    Callback = function(v)
        game.Lighting.GlobalShadows = not v
        for _, l in ipairs(workspace:GetDescendants()) do
            if l:IsA("BasePart") or l:IsA("MeshPart") then
                l.CastShadow = not v
            end
        end
        OrionLib:MakeNotification({Name = "æç¤º", Content = v and "é˜´å½±å·²åˆ é™¤" or "é˜´å½±å·²æ¢å¤", Time = 2})
    end
})

-----------------------------------------------------------------
-- â‘¦ ç®€å•é£è¡Œï¼ˆç©ºæ ¼ä¸Šå‡ï¼ŒCtrlä¸‹é™ï¼‰
-----------------------------------------------------------------
local flyEnabled = false
local flySpeed = 50
local flyConn
local flyRoot

-- ä¿®å¤ï¼šæ·»åŠ å®‰å…¨æ£€æŸ¥
local function startFly()
    if flyConn then return end
    local character = game.Players.LocalPlayer.Character
    if not character then return end
    
    flyRoot = character:FindFirstChild("HumanoidRootPart") or character:FindFirstChild("Torso")
    if not flyRoot then return end
    
    flyConn = game:GetService("RunService").Heartbeat:Connect(function(dt)
        local vel = Vector3.new()
        if UserInputService:IsKeyDown(Enum.KeyCode.Space) then vel = vel + Vector3.new(0,  flySpeed * dt, 0) end
        if UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then vel = vel + Vector3.new(0, -flySpeed * dt, 0) end
        flyRoot.Velocity = vel
    end)
end

local function stopFly()
    if flyConn then flyConn:Disconnect(); flyConn = nil end
end

Tab4:AddToggle({Name = "é£è¡Œ", Default = false, Callback = function(v)
    flyEnabled = v
    if v then startFly() else stopFly() end
end})

-----------------------------------------------------------------
-- â‘§ é«˜çº§ç©å®¶ ESPï¼ˆå«é˜Ÿä¼æ£€æµ‹å’Œè¡€é‡æ˜¾ç¤ºï¼‰
-----------------------------------------------------------------
local espEnabled = false
local espObjects = {}
local function clearESP()
    for _, o in ipairs(espObjects) do o:Remove() end
    table.clear(espObjects)
end
local function getTeamColor(plr)
    return plr.Team == game.Players.LocalPlayer.Team and Color3.fromRGB(0,255,0) or Color3.fromRGB(255,0,0)
end

-- é«˜çº§ESPç»˜åˆ¶å‡½æ•°
local function drawESP()
    clearESP()
    if not espEnabled then return end
    
    for _, plr in ipairs(game.Players:GetPlayers()) do
        if plr ~= game.Players.LocalPlayer then
            local char = plr.Character
            if not char then continue end
            
            local root = char:FindFirstChild("HumanoidRootPart")
            local head = char:FindFirstChild("Head")
            local humanoid = char:FindFirstChild("Humanoid")
            if not (root and head) then continue end

            -- è·å–å±å¹•ä½ç½®
            local topPos, topVis = Camera:WorldToViewportPoint(head.Position + Vector3.new(0, 1.5, 0))
            local bottomPos, botVis = Camera:WorldToViewportPoint(root.Position - Vector3.new(0, 2.5, 0))
            if not (topVis and botVis) then continue end

            local height = math.abs(topPos.Y - bottomPos.Y)
            local width = height * 0.5
            local left = topPos.X - width * 0.5
            local right = topPos.X + width * 0.5
            local bottomY = bottomPos.Y
            local color = getTeamColor(plr)
            
            -- ç»˜åˆ¶3Dæ–¹æ¡†ï¼ˆå‡çº§ç‰ˆï¼‰
            local function drawLine(from, to, thickness, color)
                local line = Drawing.new("Line")
                line.Visible = true
                line.Thickness = thickness
                line.Color = color
                line.From = from
                line.To = to
                table.insert(espObjects, line)
                return line
            end
            
            -- æ–¹æ¡†é¡¶ç‚¹
            local topLeft = Vector2.new(left, topPos.Y)
            local topRight = Vector2.new(right, topPos.Y)
            local bottomLeft = Vector2.new(left, bottomY)
            local bottomRight = Vector2.new(right, bottomY)
            
            -- ç»˜åˆ¶æ–¹æ¡†
            drawLine(topLeft, topRight, 1.5, color) -- ä¸Šè¾¹
            drawLine(topLeft, bottomLeft, 1.5, color) -- å·¦è¾¹
            drawLine(topRight, bottomRight, 1.5, color) -- å³è¾¹
            drawLine(bottomLeft, bottomRight, 1.5, color) -- ä¸‹è¾¹
            
            -- ç»˜åˆ¶å¯¹è§’çº¿å¢å¼º3Dæ•ˆæœ
            drawLine(topLeft, bottomRight, 0.8, color)
            drawLine(topRight, bottomLeft, 0.8, color)
            
            -- ç»˜åˆ¶åç§°å’Œè·ç¦»
            local nameTag = Drawing.new("Text")
            nameTag.Visible = true
            nameTag.Center = true
            nameTag.Outline = true
            nameTag.Position = Vector2.new(topPos.X, topPos.Y - height * 0.6)
            nameTag.Size = 18
            nameTag.Color = color
            nameTag.Text = plr.Name
            table.insert(espObjects, nameTag)
            
            local distanceTag = Drawing.new("Text")
            distanceTag.Visible = true
            distanceTag.Center = true
            distanceTag.Outline = true
            distanceTag.Position = Vector2.new(topPos.X, topPos.Y - height * 0.8)
            distanceTag.Size = 16
            distanceTag.Color = Color3.fromRGB(200, 200, 255)
            distanceTag.Text = string.format("[%dm]", math.floor((root.Position - Camera.CFrame.Position).Magnitude))
            table.insert(espObjects, distanceTag)
            
            -- ç»˜åˆ¶è¡€é‡æ¡ï¼ˆå¦‚æœå­˜åœ¨Humanoidï¼‰
            if humanoid then
                local healthRatio = math.clamp(humanoid.Health / humanoid.MaxHealth, 0, 1)
                local healthColor = Color3.fromRGB(255 - 255 * healthRatio, 255 * healthRatio, 0)
                
                -- è¡€é‡æ¡èƒŒæ™¯
                local healthBg = Drawing.new("Line")
                healthBg.Visible = true
                healthBg.Thickness = 3
                healthBg.Color = Color3.fromRGB(50, 50, 50)
                healthBg.From = Vector2.new(left - 6, bottomY)
                healthBg.To = Vector2.new(left - 6, topPos.Y)
                table.insert(espObjects, healthBg)
                
                -- å½“å‰è¡€é‡
                local healthBar = Drawing.new("Line")
                healthBar.Visible = true
                healthBar.Thickness = 3
                healthBar.Color = healthColor
                local healthY = bottomY - (bottomY - topPos.Y) * healthRatio
                healthBar.From = Vector2.new(left - 6, bottomY)
                healthBar.To = Vector2.new(left - 6, healthY)
                table.insert(espObjects, healthBar)
                
                -- è¡€é‡æ•°å€¼
                local healthText = Drawing.new("Text")
                healthText.Visible = true
                healthText.Center = true
                healthText.Outline = true
                healthText.Position = Vector2.new(left - 20, healthY)
                healthText.Size = 14
                healthText.Color = healthColor
                healthText.Text = tostring(math.floor(humanoid.Health))
                table.insert(espObjects, healthText)
            end
        end
    end
end

Tab4:AddToggle({Name = "é«˜çº§ç©å®¶ ESP", Default = false, Callback = function(v)
    espEnabled = v
    while espEnabled do
        drawESP()
        task.wait(0.1)
    end
    clearESP()
end})

-----------------------------------------------------------------
-- â‘¨ é«˜çº§ NPC é€è§†ï¼ˆå¸¦åç§°å’Œè¡€é‡ï¼‰
-----------------------------------------------------------------
local npcEspEnabled = false
local npcEspObjects = {}
local function clearNPCEsp()
    for _, o in ipairs(npcEspObjects) do o:Remove() end
    table.clear(npcEspObjects)
end

-- é«˜çº§NPCé€è§†ç»˜åˆ¶
local function drawNPCEsp()
    clearNPCEsp()
    if not npcEspEnabled then return end
    
    for _, model in ipairs(workspace:GetDescendants()) do
        if model:IsA("Model") and model:FindFirstChildOfClass("Humanoid") and not game.Players:GetPlayerFromCharacter(model) then
            local root = model:FindFirstChild("HumanoidRootPart") or model:FindFirstChild("Torso")
            local head = model:FindFirstChild("Head")
            local humanoid = model:FindFirstChildOfClass("Humanoid")
            if not (root and head) then continue end

            local topPos, topVis = Camera:WorldToViewportPoint(head.Position + Vector3.new(0, 1.5, 0))
            local bottomPos, botVis = Camera:WorldToViewportPoint(root.Position - Vector3.new(0, 2.5, 0))
            if not (topVis and botVis) then continue end

            local height = math.abs(topPos.Y - bottomPos.Y)
            local width = height * 0.5
            local left = topPos.X - width * 0.5
            local right = topPos.X + width * 0.5
            local bottomY = bottomPos.Y
            local color = Color3.fromRGB(255, 165, 0) -- æ©™è‰²
            
            -- ç»˜åˆ¶3Dæ–¹æ¡†
            local function drawLine(from, to, thickness, color)
                local line = Drawing.new("Line")
                line.Visible = true
                line.Thickness = thickness
                line.Color = color
                line.From = from
                line.To = to
                table.insert(npcEspObjects, line)
                return line
            end
            
            -- æ–¹æ¡†é¡¶ç‚¹
            local topLeft = Vector2.new(left, topPos.Y)
            local topRight = Vector2.new(right, topPos.Y)
            local bottomLeft = Vector2.new(left, bottomY)
            local bottomRight = Vector2.new(right, bottomY)
            
            -- ç»˜åˆ¶æ–¹æ¡†
            drawLine(topLeft, topRight, 1.5, color) -- ä¸Šè¾¹
            drawLine(topLeft, bottomLeft, 1.5, color) -- å·¦è¾¹
            drawLine(topRight, bottomRight, 1.5, color) -- å³è¾¹
            drawLine(bottomLeft, bottomRight, 1.5, color) -- ä¸‹è¾¹
            
            -- ç»˜åˆ¶åç§°å’Œè·ç¦»
            local nameTag = Drawing.new("Text")
            nameTag.Visible = true
            nameTag.Center = true
            nameTag.Outline = true
            nameTag.Position = Vector2.new(topPos.X, topPos.Y - height * 0.6)
            nameTag.Size = 16
            nameTag.Color = color
            nameTag.Text = model.Name
            table.insert(npcEspObjects, nameTag)
            
            local distanceTag = Drawing.new("Text")
            distanceTag.Visible = true
            distanceTag.Center = true
            distanceTag.Outline = true
            distanceTag.Position = Vector2.new(topPos.X, topPos.Y - height * 0.8)
            distanceTag.Size = 14
            distanceTag.Color = Color3.fromRGB(200, 200, 255)
            distanceTag.Text = string.format("[%dm]", math.floor((root.Position - Camera.CFrame.Position).Magnitude))
            table.insert(npcEspObjects, distanceTag)
            
            -- ç»˜åˆ¶è¡€é‡æ¡ï¼ˆå¦‚æœå­˜åœ¨Humanoidï¼‰
            if humanoid then
                local healthRatio = math.clamp(humanoid.Health / humanoid.MaxHealth, 0, 1)
                local healthColor = Color3.fromRGB(255 - 255 * healthRatio, 255 * healthRatio, 0)
                
                -- è¡€é‡æ¡èƒŒæ™¯
                local healthBg = Drawing.new("Line")
                healthBg.Visible = true
                healthBg.Thickness = 3
                healthBg.Color = Color3.fromRGB(50, 50, 50)
                healthBg.From = Vector2.new(left - 6, bottomY)
                healthBg.To = Vector2.new(left - 6, topPos.Y)
                table.insert(npcEspObjects, healthBg)
                
                -- å½“å‰è¡€é‡
                local healthBar = Drawing.new("Line")
                healthBar.Visible = true
                healthBar.Thickness = 3
                healthBar.Color = healthColor
                local healthY = bottomY - (bottomY - topPos.Y) * healthRatio
                healthBar.From = Vector2.new(left - 6, bottomY)
                healthBar.To = Vector2.new(left - 6, healthY)
                table.insert(npcEspObjects, healthBar)
                
                -- è¡€é‡æ•°å€¼
                local healthText = Drawing.new("Text")
                healthText.Visible = true
                healthText.Center = true
                healthText.Outline = true
                healthText.Position = Vector2.new(left - 20, healthY)
                healthText.Size = 12
                healthText.Color = healthColor
                healthText.Text = tostring(math.floor(humanoid.Health))
                table.insert(npcEspObjects, healthText)
            end
        end
    end
end

Tab4:AddToggle({Name = "é«˜çº§ NPC é€è§†", Default = false, Callback = function(v)
    npcEspEnabled = v
    while npcEspEnabled do
        drawNPCEsp()
        task.wait(0.1)
    end
    clearNPCEsp()
end})

-----------------------------------------------------------------
-- â‘© ä¸‰é”å®šï¼šç§»é€Ÿ / è·³è·ƒ / é‡åŠ›
-----------------------------------------------------------------
local lockSpeed, lockJump, lockGrav = false, false, false
local savedSpeed, savedJump, savedGrav = 16, 50, 196

local function applyValues()
    local char = game.Players.LocalPlayer.Character or game.Players.LocalPlayer.CharacterAdded:Wait()
    local hum = char:WaitForChild("Humanoid", 3)
    if hum then
        if lockSpeed then hum.WalkSpeed = savedSpeed end
        if lockJump then hum.JumpPower = savedJump end
    end
    if lockGrav then workspace.Gravity = savedGrav end
end
game.Players.LocalPlayer.CharacterAdded:Connect(function()
    task.wait(.1)
    applyValues()
end)

-- åˆå§‹åº”ç”¨ä¸€æ¬¡
task.spawn(applyValues)

-- è¾“å…¥æ¡† + å¼€å…³
local lockSec = Tab4:AddSection({Name = "ä¸‰é”å®š"})
lockSec:AddTextbox({Name = "è®¾å®šç§»é€Ÿï¼ˆä»…ä¿å­˜å€¼ï¼‰", Default = tostring(savedSpeed), Callback = function(txt) savedSpeed = tonumber(txt) or 16 end})
lockSec:AddTextbox({Name = "è®¾å®šè·³è·ƒé«˜åº¦ï¼ˆä»…ä¿å­˜å€¼ï¼‰", Default = tostring(savedJump), Callback = function(txt) savedJump = tonumber(txt) or 50 end})
lockSec:AddTextbox({Name = "è®¾å®šé‡åŠ›å€¼ï¼ˆä»…ä¿å­˜å€¼ï¼‰", Default = tostring(savedGrav), Callback = function(txt) savedGrav = tonumber(txt) or 196 end})

lockSec:AddToggle({Name = "é”å®šç§»é€Ÿ", Default = false, Callback = function(v) lockSpeed = v; applyValues() end})
lockSec:AddToggle({Name = "é”å®šè·³è·ƒ", Default = false, Callback = function(v) lockJump = v; applyValues() end})
lockSec:AddToggle({Name = "é”å®šé‡åŠ›", Default = false, Callback = function(v) lockGrav = v; applyValues() end})


--æ§åˆ¶å° Tap
local Tab2 = Window:MakeTab({Name = "æ§åˆ¶å°", Icon = "rbxassetid://7733779610"})
Tab2:AddButton({Name = "æ§åˆ¶å°", Callback = function()
    loadstring(game:HttpGet("https://pastebin.com/raw/HfCtLtt9"))()
end})

-- XAè„šæœ¬ Tab
local Tab3 = Window:MakeTab({Name = "XAè„šæœ¬", Icon = "rbxassetid://7733779610"})
Tab3:AddButton({Name = "XA HUB", Callback = function()
    loadstring(game:HttpGet("https://xingtaiduan.pythonanywhere.com/Loader"))()
end})

--RBè„šæœ¬ä¸­å¿ƒ Tap
local Tab_RB = Window:MakeTab({Name = "RBè„šæœ¬", Icon = "rbxassetid://7733779610"})
Tab_RB:AddButton({Name = "Rbè„šæœ¬", Callback = function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/Yungengxin/roblox/refs/heads/main/Rb-Hub"))()
end})

-- ç”Ÿå­˜ä¸æ€æ‰‹ Tab
local Tab5 = Window:MakeTab({Name = "ç”Ÿå­˜ä¸æ€æ‰‹", Icon = "rbxassetid://7733779610"})
Tab5:AddButton({Name = "ç”Ÿå­˜ä¸æ€æ‰‹", Callback = function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/Milan08Studio/ChairWare/main/main.lua"))()
end})

--çˆ±å¾·å
local Tab6 = Window:MakeTab({Name = "çˆ±å¾·å", Icon = "rbxassetid://7733779610"})
Tab6:AddButton({Name = "çˆ±å¾·å", Callback = function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/gumanba/Scripts/main/Edward"))()
end})

--æ´»äº†7å¤©
local Tab7 = Window:MakeTab({Name = "æ´»äº†7å¤©", Icon = "rbxassetid://7733779610"})
Tab7:AddButton({Name = "æ´»äº†7å¤©", Callback = function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-7-days-to-live-36824"))()
end})

--æ­»é“è½¨
local Tab8 = Window:MakeTab({Name = "æ­»é“è½¨", Icon = "rbxassetid://7733779610"})
Tab8:AddButton({Name = "æ­»é“è½¨", Callback = function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/iopjklbnmsss/SansHubScript/refs/heads/main/SansHub"))()
end})

-- å¯åŠ¨
OrionLib:Init()
